From bippy-1.2.0 Mon Sep 17 00:00:00 2001
From: Greg Kroah-Hartman <gregkh@kernel.org>
To: <linux-cve-announce@vger.kernel.org>
Reply-to: <cve@kernel.org>, <linux-kernel@vger.kernel.org>
Subject: CVE-2025-37839: jbd2: remove wrong sb->s_sequence check

Description
===========

In the Linux kernel, the following vulnerability has been resolved:

jbd2: remove wrong sb->s_sequence check

Journal emptiness is not determined by sb->s_sequence == 0 but rather by
sb->s_start == 0 (which is set a few lines above). Furthermore 0 is a
valid transaction ID so the check can spuriously trigger. Remove the
invalid WARN_ON.

The Linux kernel CVE team has assigned CVE-2025-37839 to this issue.


Affected and fixed versions
===========================

	Fixed in 5.4.293 with commit cf30432f5b3064ff85d85639c2f0106f89c566f6
	Fixed in 5.10.237 with commit b479839525fe7906966cdc4b5b2afbca048558a1
	Fixed in 5.15.181 with commit ad926f735b4d4f10768fec7d080cadeb6d075cac
	Fixed in 6.1.135 with commit 3b4643ffaf72d7a5a357e9bf68b1775f8cfe7e77
	Fixed in 6.6.88 with commit c88f7328bb0fff66520fc9164f02b1d06e083c1b
	Fixed in 6.12.24 with commit 9eaec071f111cd2124ce9a5b93536d3f6837d457
	Fixed in 6.13.12 with commit c98eb9ffb1d9c98237b5e1668eee17654e129fb0
	Fixed in 6.14.3 with commit b0cca357f85beb6144ab60c62dcc98508cc044bf
	Fixed in 6.15 with commit e6eff39dd0fe4190c6146069cc16d160e71d1148

Please see https://www.kernel.org for a full list of currently supported
kernel versions by the kernel community.

Unaffected versions might change over time as fixes are backported to
older supported kernel versions.  The official CVE entry at
	https://cve.org/CVERecord/?id=CVE-2025-37839
will be updated if fixes are backported, please check that for the most
up to date information about this issue.


Affected files
==============

The file(s) affected by this issue are:
	fs/jbd2/journal.c


Mitigation
==========

The Linux kernel CVE team recommends that you update to the latest
stable kernel version for this, and many other bugfixes.  Individual
changes are never tested alone, but rather are part of a larger kernel
release.  Cherry-picking individual commits is not recommended or
supported by the Linux kernel community at all.  If however, updating to
the latest release is impossible, the individual changes to resolve this
issue can be found at these commits:
	https://git.kernel.org/stable/c/cf30432f5b3064ff85d85639c2f0106f89c566f6
	https://git.kernel.org/stable/c/b479839525fe7906966cdc4b5b2afbca048558a1
	https://git.kernel.org/stable/c/ad926f735b4d4f10768fec7d080cadeb6d075cac
	https://git.kernel.org/stable/c/3b4643ffaf72d7a5a357e9bf68b1775f8cfe7e77
	https://git.kernel.org/stable/c/c88f7328bb0fff66520fc9164f02b1d06e083c1b
	https://git.kernel.org/stable/c/9eaec071f111cd2124ce9a5b93536d3f6837d457
	https://git.kernel.org/stable/c/c98eb9ffb1d9c98237b5e1668eee17654e129fb0
	https://git.kernel.org/stable/c/b0cca357f85beb6144ab60c62dcc98508cc044bf
	https://git.kernel.org/stable/c/e6eff39dd0fe4190c6146069cc16d160e71d1148
