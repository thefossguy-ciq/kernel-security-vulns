From bippy-1.2.0 Mon Sep 17 00:00:00 2001
From: Greg Kroah-Hartman <gregkh@kernel.org>
To: <linux-cve-announce@vger.kernel.org>
Reply-to: <cve@kernel.org>, <linux-kernel@vger.kernel.org>
Subject: CVE-2025-39892: ASoC: soc-core: care NULL dirver name on snd_soc_lookup_component_nolocked()
Message-Id: <2025100114-CVE-2025-39892-ec4d@gregkh>
Content-Length: 2894
Lines: 68
X-Developer-Signature: v=1; a=openpgp-sha256; l=2963;
 i=gregkh@linuxfoundation.org; h=from:subject:message-id;
 bh=juA9PFEFEEm+4PucqZzVx4DSzB5RkHT2wdIFmi4jFdQ=;
 b=owGbwMvMwCRo6H6F97bub03G02pJDBl3bk8Srp3uuanRpubfEa4HL/b+4lBa+D1a+O73LumLh
 16fn/zcvSOWhUGQiUFWTJHlyzaeo/srDil6GdqehpnDygQyhIGLUwAmcuMDwxzOt5y/1S9ZGH9f
 Y7BnJbPDYZ8aqecM81QX7GJcMKf5Yv0blytzU4XdFM/MvQgA
X-Developer-Key: i=gregkh@linuxfoundation.org; a=openpgp;
 fpr=F4B60CC5BF78C2214A313DCB3147D40DDB2DFB29

Description
===========

In the Linux kernel, the following vulnerability has been resolved:

ASoC: soc-core: care NULL dirver name on snd_soc_lookup_component_nolocked()

soc-generic-dmaengine-pcm.c uses same dev for both CPU and Platform.
In such case, CPU component driver might not have driver->name, then
snd_soc_lookup_component_nolocked() will be NULL pointer access error.
Care NULL driver name.

	Call trace:
	 strcmp from snd_soc_lookup_component_nolocked+0x64/0xa4
	 snd_soc_lookup_component_nolocked from snd_soc_unregister_component_by_driver+0x2c/0x44
	 snd_soc_unregister_component_by_driver from snd_dmaengine_pcm_unregister+0x28/0x64
	 snd_dmaengine_pcm_unregister from devres_release_all+0x98/0xfc
	 devres_release_all from device_unbind_cleanup+0xc/0x60
	 device_unbind_cleanup from really_probe+0x220/0x2c8
	 really_probe from __driver_probe_device+0x88/0x1a0
	 __driver_probe_device from driver_probe_device+0x30/0x110
	driver_probe_device from __driver_attach+0x90/0x178
	__driver_attach from bus_for_each_dev+0x7c/0xcc
	bus_for_each_dev from bus_add_driver+0xcc/0x1ec
	bus_add_driver from driver_register+0x80/0x11c
	driver_register from do_one_initcall+0x58/0x23c
	do_one_initcall from kernel_init_freeable+0x198/0x1f4
	kernel_init_freeable from kernel_init+0x1c/0x12c
	kernel_init from ret_from_fork+0x14/0x28

The Linux kernel CVE team has assigned CVE-2025-39892 to this issue.


Affected and fixed versions
===========================

	Issue introduced in 6.16 with commit 144d6dfc7482455eabf8e8caa974a6e8d9572705 and fixed in 6.16.6 with commit 1d282dcd46d972be338085ae9e217462b366ce6e
	Issue introduced in 6.16 with commit 144d6dfc7482455eabf8e8caa974a6e8d9572705 and fixed in 6.17 with commit 168873ca1799d3f23442b9e79eae55f907b9b126

Please see https://www.kernel.org for a full list of currently supported
kernel versions by the kernel community.

Unaffected versions might change over time as fixes are backported to
older supported kernel versions.  The official CVE entry at
	https://cve.org/CVERecord/?id=CVE-2025-39892
will be updated if fixes are backported, please check that for the most
up to date information about this issue.


Affected files
==============

The file(s) affected by this issue are:
	sound/soc/soc-core.c


Mitigation
==========

The Linux kernel CVE team recommends that you update to the latest
stable kernel version for this, and many other bugfixes.  Individual
changes are never tested alone, but rather are part of a larger kernel
release.  Cherry-picking individual commits is not recommended or
supported by the Linux kernel community at all.  If however, updating to
the latest release is impossible, the individual changes to resolve this
issue can be found at these commits:
	https://git.kernel.org/stable/c/1d282dcd46d972be338085ae9e217462b366ce6e
	https://git.kernel.org/stable/c/168873ca1799d3f23442b9e79eae55f907b9b126
