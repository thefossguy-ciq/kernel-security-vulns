From bippy-1.2.0 Mon Sep 17 00:00:00 2001
From: Greg Kroah-Hartman <gregkh@kernel.org>
To: <linux-cve-announce@vger.kernel.org>
Reply-to: <cve@kernel.org>, <linux-kernel@vger.kernel.org>
Subject: CVE-2025-37740: jfs: add sanity check for agwidth in dbMount

Description
===========

In the Linux kernel, the following vulnerability has been resolved:

jfs: add sanity check for agwidth in dbMount

The width in dmapctl of the AG is zero, it trigger a divide error when
calculating the control page level in dbAllocAG.

To avoid this issue, add a check for agwidth in dbAllocAG.

The Linux kernel CVE team has assigned CVE-2025-37740 to this issue.


Affected and fixed versions
===========================

	Fixed in 5.4.293 with commit a065cec230aa807c18828a3eee82f1c8592c2adf
	Fixed in 5.10.237 with commit 722e72f7f9c69fcb3ab7988c2471feff7a4c8de1
	Fixed in 5.15.181 with commit a741f29ac8b6374c9904be8b7ac7cdfcd7e7e4fa
	Fixed in 6.1.135 with commit a260bf14cd347878f01f70739ba829442a474a16
	Fixed in 6.6.88 with commit cc0bc4cb62ce5fa0c383e3bf0765d01f46bd49ac
	Fixed in 6.12.24 with commit ccd97c8a4f90810f228ee40d1055148fa146dd57
	Fixed in 6.13.12 with commit c8c96a9e7660e5e5eea445978fe8f2e432d91c1f
	Fixed in 6.14.3 with commit e3f85edb03183fb06539e5b50dd2c4bb42b869f0
	Fixed in 6.15 with commit ddf2846f22e8575d6b4b6a66f2100f168b8cd73d

Please see https://www.kernel.org for a full list of currently supported
kernel versions by the kernel community.

Unaffected versions might change over time as fixes are backported to
older supported kernel versions.  The official CVE entry at
	https://cve.org/CVERecord/?id=CVE-2025-37740
will be updated if fixes are backported, please check that for the most
up to date information about this issue.


Affected files
==============

The file(s) affected by this issue are:
	fs/jfs/jfs_dmap.c


Mitigation
==========

The Linux kernel CVE team recommends that you update to the latest
stable kernel version for this, and many other bugfixes.  Individual
changes are never tested alone, but rather are part of a larger kernel
release.  Cherry-picking individual commits is not recommended or
supported by the Linux kernel community at all.  If however, updating to
the latest release is impossible, the individual changes to resolve this
issue can be found at these commits:
	https://git.kernel.org/stable/c/a065cec230aa807c18828a3eee82f1c8592c2adf
	https://git.kernel.org/stable/c/722e72f7f9c69fcb3ab7988c2471feff7a4c8de1
	https://git.kernel.org/stable/c/a741f29ac8b6374c9904be8b7ac7cdfcd7e7e4fa
	https://git.kernel.org/stable/c/a260bf14cd347878f01f70739ba829442a474a16
	https://git.kernel.org/stable/c/cc0bc4cb62ce5fa0c383e3bf0765d01f46bd49ac
	https://git.kernel.org/stable/c/ccd97c8a4f90810f228ee40d1055148fa146dd57
	https://git.kernel.org/stable/c/c8c96a9e7660e5e5eea445978fe8f2e432d91c1f
	https://git.kernel.org/stable/c/e3f85edb03183fb06539e5b50dd2c4bb42b869f0
	https://git.kernel.org/stable/c/ddf2846f22e8575d6b4b6a66f2100f168b8cd73d
