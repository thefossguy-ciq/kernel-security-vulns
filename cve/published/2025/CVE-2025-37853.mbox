From bippy-1.2.0 Mon Sep 17 00:00:00 2001
From: Greg Kroah-Hartman <gregkh@kernel.org>
To: <linux-cve-announce@vger.kernel.org>
Reply-to: <cve@kernel.org>, <linux-kernel@vger.kernel.org>
Subject: CVE-2025-37853: drm/amdkfd: debugfs hang_hws skip GPU with MES

Description
===========

In the Linux kernel, the following vulnerability has been resolved:

drm/amdkfd: debugfs hang_hws skip GPU with MES

debugfs hang_hws is used by GPU reset test with HWS, for MES this crash
the kernel with NULL pointer access because dqm->packet_mgr is not setup
for MES path.

Skip GPU with MES for now, MES hang_hws debugfs interface will be
supported later.

The Linux kernel CVE team has assigned CVE-2025-37853 to this issue.


Affected and fixed versions
===========================

	Fixed in 6.6.88 with commit a36f8d544522a19ef06ed9e84667d154dcb6be52
	Fixed in 6.12.24 with commit 1a322b330dc0b775d1d7a84e55c752d9451bfe7d
	Fixed in 6.13.12 with commit f84c57906f0fd2185e557d2552b20aa8430a4677
	Fixed in 6.14.3 with commit 24b9e0e2e6147314c22d821f0542c4dd9a320c40
	Fixed in 6.15 with commit fe9d0061c413f8fb8c529b18b592b04170850ded

Please see https://www.kernel.org for a full list of currently supported
kernel versions by the kernel community.

Unaffected versions might change over time as fixes are backported to
older supported kernel versions.  The official CVE entry at
	https://cve.org/CVERecord/?id=CVE-2025-37853
will be updated if fixes are backported, please check that for the most
up to date information about this issue.


Affected files
==============

The file(s) affected by this issue are:
	drivers/gpu/drm/amd/amdkfd/kfd_device.c


Mitigation
==========

The Linux kernel CVE team recommends that you update to the latest
stable kernel version for this, and many other bugfixes.  Individual
changes are never tested alone, but rather are part of a larger kernel
release.  Cherry-picking individual commits is not recommended or
supported by the Linux kernel community at all.  If however, updating to
the latest release is impossible, the individual changes to resolve this
issue can be found at these commits:
	https://git.kernel.org/stable/c/a36f8d544522a19ef06ed9e84667d154dcb6be52
	https://git.kernel.org/stable/c/1a322b330dc0b775d1d7a84e55c752d9451bfe7d
	https://git.kernel.org/stable/c/f84c57906f0fd2185e557d2552b20aa8430a4677
	https://git.kernel.org/stable/c/24b9e0e2e6147314c22d821f0542c4dd9a320c40
	https://git.kernel.org/stable/c/fe9d0061c413f8fb8c529b18b592b04170850ded
