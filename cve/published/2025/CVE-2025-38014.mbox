From bippy-1.2.0 Mon Sep 17 00:00:00 2001
From: Greg Kroah-Hartman <gregkh@kernel.org>
To: <linux-cve-announce@vger.kernel.org>
Reply-to: <cve@kernel.org>, <linux-kernel@vger.kernel.org>
Subject: CVE-2025-38014: dmaengine: idxd: Refactor remove call with idxd_cleanup() helper

Description
===========

In the Linux kernel, the following vulnerability has been resolved:

dmaengine: idxd: Refactor remove call with idxd_cleanup() helper

The idxd_cleanup() helper cleans up perfmon, interrupts, internals and
so on. Refactor remove call with the idxd_cleanup() helper to avoid code
duplication. Note, this also fixes the missing put_device() for idxd
groups, enginces and wqs.

The Linux kernel CVE team has assigned CVE-2025-38014 to this issue.


Affected and fixed versions
===========================

	Issue introduced in 5.6 with commit bfe1d56091c1a404b3d4ce7e9809d745fc4453bb and fixed in 6.6.92 with commit d530dd65f6f3c04bbf141702ecccd70170ed04ad
	Issue introduced in 5.6 with commit bfe1d56091c1a404b3d4ce7e9809d745fc4453bb and fixed in 6.12.30 with commit 23dc14c52d84b02b39d816bf16a754c0e7d48f9c
	Issue introduced in 5.6 with commit bfe1d56091c1a404b3d4ce7e9809d745fc4453bb and fixed in 6.14.8 with commit a7bd00f7e9bd075f3e4fbcc608d8ea445aed8692
	Issue introduced in 5.6 with commit bfe1d56091c1a404b3d4ce7e9809d745fc4453bb and fixed in 6.15 with commit a409e919ca321cc0e28f8abf96fde299f0072a81

Please see https://www.kernel.org for a full list of currently supported
kernel versions by the kernel community.

Unaffected versions might change over time as fixes are backported to
older supported kernel versions.  The official CVE entry at
	https://cve.org/CVERecord/?id=CVE-2025-38014
will be updated if fixes are backported, please check that for the most
up to date information about this issue.


Affected files
==============

The file(s) affected by this issue are:
	drivers/dma/idxd/init.c


Mitigation
==========

The Linux kernel CVE team recommends that you update to the latest
stable kernel version for this, and many other bugfixes.  Individual
changes are never tested alone, but rather are part of a larger kernel
release.  Cherry-picking individual commits is not recommended or
supported by the Linux kernel community at all.  If however, updating to
the latest release is impossible, the individual changes to resolve this
issue can be found at these commits:
	https://git.kernel.org/stable/c/d530dd65f6f3c04bbf141702ecccd70170ed04ad
	https://git.kernel.org/stable/c/23dc14c52d84b02b39d816bf16a754c0e7d48f9c
	https://git.kernel.org/stable/c/a7bd00f7e9bd075f3e4fbcc608d8ea445aed8692
	https://git.kernel.org/stable/c/a409e919ca321cc0e28f8abf96fde299f0072a81
