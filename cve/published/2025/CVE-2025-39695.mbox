From bippy-1.2.0 Mon Sep 17 00:00:00 2001
From: Greg Kroah-Hartman <gregkh@kernel.org>
To: <linux-cve-announce@vger.kernel.org>
Reply-to: <cve@kernel.org>, <linux-kernel@vger.kernel.org>
Subject: CVE-2025-39695: RDMA/rxe: Flush delayed SKBs while releasing RXE resources
Message-Id: <2025090547-CVE-2025-39695-1126@gregkh>
Content-Length: 2495
Lines: 60
X-Developer-Signature: v=1; a=openpgp-sha256; l=2556;
 i=gregkh@linuxfoundation.org; h=from:subject:message-id;
 bh=y/dNfuEhXvnx27s7KmH0Hu8yCXN0p/drT3f1POOSsBs=;
 b=owGbwMvMwCRo6H6F97bub03G02pJDBm7pd9rKHrInhZ7cie+NC5dM+Eo31sus3STpYZtTexJJ
 9gS173qiGVhEGRikBVTZPmyjefo/opDil6Gtqdh5rAygQxh4OIUgInUSDDMlV367JfOiqsyh85u
 uqoZLsG0wtrUkmHBPomZ9+3E/roeYlDJMCkoXNsjcvs6AA==
X-Developer-Key: i=gregkh@linuxfoundation.org; a=openpgp;
 fpr=F4B60CC5BF78C2214A313DCB3147D40DDB2DFB29

Description
===========

In the Linux kernel, the following vulnerability has been resolved:

RDMA/rxe: Flush delayed SKBs while releasing RXE resources

When skb packets are sent out, these skb packets still depends on
the rxe resources, for example, QP, sk, when these packets are
destroyed.

If these rxe resources are released when the skb packets are destroyed,
the call traces will appear.

To avoid skb packets hang too long time in some network devices,
a timestamp is added when these skb packets are created. If these
skb packets hang too long time in network devices, these network
devices can free these skb packets to release rxe resources.

The Linux kernel CVE team has assigned CVE-2025-39695 to this issue.


Affected and fixed versions
===========================

	Issue introduced in 6.10 with commit 1a633bdc8fd9e9e4a9f9a668ae122edfc5aacc86 and fixed in 6.12.44 with commit 732d4bd7b78a2752ad43cc39287ef41893c5eee2
	Issue introduced in 6.10 with commit 1a633bdc8fd9e9e4a9f9a668ae122edfc5aacc86 and fixed in 6.16.4 with commit 8ead139a8edef485cc36d3a792e2ae5dd538339a
	Issue introduced in 6.10 with commit 1a633bdc8fd9e9e4a9f9a668ae122edfc5aacc86 and fixed in 6.17-rc3 with commit 3c3e9a9f2972b364e8c2cfbfdeb23c6d6be4f87f

Please see https://www.kernel.org for a full list of currently supported
kernel versions by the kernel community.

Unaffected versions might change over time as fixes are backported to
older supported kernel versions.  The official CVE entry at
	https://cve.org/CVERecord/?id=CVE-2025-39695
will be updated if fixes are backported, please check that for the most
up to date information about this issue.


Affected files
==============

The file(s) affected by this issue are:
	drivers/infiniband/sw/rxe/rxe_net.c
	drivers/infiniband/sw/rxe/rxe_qp.c


Mitigation
==========

The Linux kernel CVE team recommends that you update to the latest
stable kernel version for this, and many other bugfixes.  Individual
changes are never tested alone, but rather are part of a larger kernel
release.  Cherry-picking individual commits is not recommended or
supported by the Linux kernel community at all.  If however, updating to
the latest release is impossible, the individual changes to resolve this
issue can be found at these commits:
	https://git.kernel.org/stable/c/732d4bd7b78a2752ad43cc39287ef41893c5eee2
	https://git.kernel.org/stable/c/8ead139a8edef485cc36d3a792e2ae5dd538339a
	https://git.kernel.org/stable/c/3c3e9a9f2972b364e8c2cfbfdeb23c6d6be4f87f
