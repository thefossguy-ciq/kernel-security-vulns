From bippy-1.2.0 Mon Sep 17 00:00:00 2001
From: Greg Kroah-Hartman <gregkh@kernel.org>
To: <linux-cve-announce@vger.kernel.org>
Reply-to: <cve@kernel.org>, <linux-kernel@vger.kernel.org>
Subject: CVE-2025-39896: accel/ivpu: Prevent recovery work from being queued during device removal

Description
===========

In the Linux kernel, the following vulnerability has been resolved:

accel/ivpu: Prevent recovery work from being queued during device removal

Use disable_work_sync() instead of cancel_work_sync() in ivpu_dev_fini()
to ensure that no new recovery work items can be queued after device
removal has started. Previously, recovery work could be scheduled even
after canceling existing work, potentially leading to use-after-free
bugs if recovery accessed freed resources.

Rename ivpu_pm_cancel_recovery() to ivpu_pm_disable_recovery() to better
reflect its new behavior.

The Linux kernel CVE team has assigned CVE-2025-39896 to this issue.


Affected and fixed versions
===========================

	Issue introduced in 6.8 with commit 58cde80f45a2b1683ea3c24a9a9a4b0e1005336b and fixed in 6.12.46 with commit 54c49eca38dbd06913a696f6d7610937dcfad226
	Issue introduced in 6.8 with commit 58cde80f45a2b1683ea3c24a9a9a4b0e1005336b and fixed in 6.16.6 with commit 565d2c15b6c36c3250e694f7b9a86229c1787be5
	Issue introduced in 6.8 with commit 58cde80f45a2b1683ea3c24a9a9a4b0e1005336b and fixed in 6.17 with commit 69a79ada8eb034ce016b5b78fb7d08d8687223de

Please see https://www.kernel.org for a full list of currently supported
kernel versions by the kernel community.

Unaffected versions might change over time as fixes are backported to
older supported kernel versions.  The official CVE entry at
	https://cve.org/CVERecord/?id=CVE-2025-39896
will be updated if fixes are backported, please check that for the most
up to date information about this issue.


Affected files
==============

The file(s) affected by this issue are:
	drivers/accel/ivpu/ivpu_drv.c
	drivers/accel/ivpu/ivpu_pm.c
	drivers/accel/ivpu/ivpu_pm.h


Mitigation
==========

The Linux kernel CVE team recommends that you update to the latest
stable kernel version for this, and many other bugfixes.  Individual
changes are never tested alone, but rather are part of a larger kernel
release.  Cherry-picking individual commits is not recommended or
supported by the Linux kernel community at all.  If however, updating to
the latest release is impossible, the individual changes to resolve this
issue can be found at these commits:
	https://git.kernel.org/stable/c/54c49eca38dbd06913a696f6d7610937dcfad226
	https://git.kernel.org/stable/c/565d2c15b6c36c3250e694f7b9a86229c1787be5
	https://git.kernel.org/stable/c/69a79ada8eb034ce016b5b78fb7d08d8687223de
