From bippy-1.2.0 Mon Sep 17 00:00:00 2001
From: Greg Kroah-Hartman <gregkh@kernel.org>
To: <linux-cve-announce@vger.kernel.org>
Reply-to: <cve@kernel.org>, <linux-kernel@vger.kernel.org>
Subject: CVE-2025-38526: ice: add NULL check in eswitch lag check

Description
===========

In the Linux kernel, the following vulnerability has been resolved:

ice: add NULL check in eswitch lag check

The function ice_lag_is_switchdev_running() is being called from outside of
the LAG event handler code.  This results in the lag->upper_netdev being
NULL sometimes.  To avoid a NULL-pointer dereference, there needs to be a
check before it is dereferenced.

The Linux kernel CVE team has assigned CVE-2025-38526 to this issue.


Affected and fixed versions
===========================

	Issue introduced in 6.6 with commit 776fe19953b0e0af00399e50fb3b205101d4b3c1 and fixed in 6.6.100 with commit 27591d926191e42b2332e4bad3bcd3a49def393b
	Issue introduced in 6.6 with commit 776fe19953b0e0af00399e50fb3b205101d4b3c1 and fixed in 6.12.40 with commit 5a5d64f0eec82076b2c09fee2195d640cfbe3379
	Issue introduced in 6.6 with commit 776fe19953b0e0af00399e50fb3b205101d4b3c1 and fixed in 6.15.8 with commit 245917d3c5ed7c6ae720302b64eac5c6f0c85177
	Issue introduced in 6.6 with commit 776fe19953b0e0af00399e50fb3b205101d4b3c1 and fixed in 6.16 with commit 3ce58b01ada408b372f15b7c992ed0519840e3cf

Please see https://www.kernel.org for a full list of currently supported
kernel versions by the kernel community.

Unaffected versions might change over time as fixes are backported to
older supported kernel versions.  The official CVE entry at
	https://cve.org/CVERecord/?id=CVE-2025-38526
will be updated if fixes are backported, please check that for the most
up to date information about this issue.


Affected files
==============

The file(s) affected by this issue are:
	drivers/net/ethernet/intel/ice/ice_lag.c


Mitigation
==========

The Linux kernel CVE team recommends that you update to the latest
stable kernel version for this, and many other bugfixes.  Individual
changes are never tested alone, but rather are part of a larger kernel
release.  Cherry-picking individual commits is not recommended or
supported by the Linux kernel community at all.  If however, updating to
the latest release is impossible, the individual changes to resolve this
issue can be found at these commits:
	https://git.kernel.org/stable/c/27591d926191e42b2332e4bad3bcd3a49def393b
	https://git.kernel.org/stable/c/5a5d64f0eec82076b2c09fee2195d640cfbe3379
	https://git.kernel.org/stable/c/245917d3c5ed7c6ae720302b64eac5c6f0c85177
	https://git.kernel.org/stable/c/3ce58b01ada408b372f15b7c992ed0519840e3cf
