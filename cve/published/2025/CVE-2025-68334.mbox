From bippy-1.2.0 Mon Sep 17 00:00:00 2001
From: Greg Kroah-Hartman <gregkh@kernel.org>
To: <linux-cve-announce@vger.kernel.org>
Reply-to: <cve@kernel.org>, <linux-kernel@vger.kernel.org>
Subject: CVE-2025-68334: platform/x86/amd/pmc: Add support for Van Gogh SoC
Message-Id: <2025122220-CVE-2025-68334-b63c@gregkh>
Content-Length: 1959
Lines: 54
X-Developer-Signature: v=1; a=openpgp-sha256; l=2014;
 i=gregkh@linuxfoundation.org; h=from:subject:message-id;
 bh=WyMbKQI5qqqELIlUllTCD+6ZfruJShmATtvdD3IF0Ig=;
 b=owGbwMvMwCRo6H6F97bub03G02pJDJmeeTHchrNmf/zieu/+rEtKd1V58oJ25hWWZwq67rcqP
 L5bT6u4I5aFQZCJQVZMkeXLNp6j+ysOKXoZ2p6GmcPKBDKEgYtTACay8SHDgptRTyJiJx2rrNqf
 fNjX7V/fq8v3Ghnm57ckCLno9czneixVZWwjLTpvx3c2AA==
X-Developer-Key: i=gregkh@linuxfoundation.org; a=openpgp;
 fpr=F4B60CC5BF78C2214A313DCB3147D40DDB2DFB29

Description
===========

In the Linux kernel, the following vulnerability has been resolved:

platform/x86/amd/pmc: Add support for Van Gogh SoC

The ROG Xbox Ally (non-X) SoC features a similar architecture to the
Steam Deck. While the Steam Deck supports S3 (s2idle causes a crash),
this support was dropped by the Xbox Ally which only S0ix suspend.

Since the handler is missing here, this causes the device to not suspend
and the AMD GPU driver to crash while trying to resume afterwards due to
a power hang.

The Linux kernel CVE team has assigned CVE-2025-68334 to this issue.


Affected and fixed versions
===========================

	Fixed in 6.17.12 with commit 9654c56b111cd1415aca7e77f0c63c109453c409
	Fixed in 6.18 with commit db4a3f0fbedb0398f77b9047e8b8bb2b49f355bb

Please see https://www.kernel.org for a full list of currently supported
kernel versions by the kernel community.

Unaffected versions might change over time as fixes are backported to
older supported kernel versions.  The official CVE entry at
	https://cve.org/CVERecord/?id=CVE-2025-68334
will be updated if fixes are backported, please check that for the most
up to date information about this issue.


Affected files
==============

The file(s) affected by this issue are:
	drivers/platform/x86/amd/pmc/pmc.c
	drivers/platform/x86/amd/pmc/pmc.h


Mitigation
==========

The Linux kernel CVE team recommends that you update to the latest
stable kernel version for this, and many other bugfixes.  Individual
changes are never tested alone, but rather are part of a larger kernel
release.  Cherry-picking individual commits is not recommended or
supported by the Linux kernel community at all.  If however, updating to
the latest release is impossible, the individual changes to resolve this
issue can be found at these commits:
	https://git.kernel.org/stable/c/9654c56b111cd1415aca7e77f0c63c109453c409
	https://git.kernel.org/stable/c/db4a3f0fbedb0398f77b9047e8b8bb2b49f355bb
