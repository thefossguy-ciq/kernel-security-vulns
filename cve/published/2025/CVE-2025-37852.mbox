From bippy-1.2.0 Mon Sep 17 00:00:00 2001
From: Greg Kroah-Hartman <gregkh@kernel.org>
To: <linux-cve-announce@vger.kernel.org>
Reply-to: <cve@kernel.org>, <linux-kernel@vger.kernel.org>
Subject: CVE-2025-37852: drm/amdgpu: handle amdgpu_cgs_create_device() errors in amd_powerplay_create()

Description
===========

In the Linux kernel, the following vulnerability has been resolved:

drm/amdgpu: handle amdgpu_cgs_create_device() errors in amd_powerplay_create()

Add error handling to propagate amdgpu_cgs_create_device() failures
to the caller. When amdgpu_cgs_create_device() fails, release hwmgr
and return -ENOMEM to prevent null pointer dereference.

[v1]->[v2]: Change error code from -EINVAL to -ENOMEM. Free hwmgr.

The Linux kernel CVE team has assigned CVE-2025-37852 to this issue.


Affected and fixed versions
===========================

	Issue introduced in 4.17 with commit b905090d2bae2e6189511714a7b88691b439c5a1 and fixed in 6.1.135 with commit 55ef52c30c3e747f145a64de96192e37a8fed670
	Issue introduced in 4.17 with commit b905090d2bae2e6189511714a7b88691b439c5a1 and fixed in 6.6.88 with commit f8693e1bae9c08233a2f535c3f412e157df32b33
	Issue introduced in 4.17 with commit b905090d2bae2e6189511714a7b88691b439c5a1 and fixed in 6.12.24 with commit dc4380f34613eaae997b3ed263bd1cb3d0fd0075
	Issue introduced in 4.17 with commit b905090d2bae2e6189511714a7b88691b439c5a1 and fixed in 6.13.12 with commit 22ea19cc089013b55c240134dbb2797700ff5a6a
	Issue introduced in 4.17 with commit b905090d2bae2e6189511714a7b88691b439c5a1 and fixed in 6.14.3 with commit b784734811438f11533e2fb9e0deb327844bdb56
	Issue introduced in 4.17 with commit b905090d2bae2e6189511714a7b88691b439c5a1 and fixed in 6.15 with commit 1435e895d4fc967d64e9f5bf81e992ac32f5ac76

Please see https://www.kernel.org for a full list of currently supported
kernel versions by the kernel community.

Unaffected versions might change over time as fixes are backported to
older supported kernel versions.  The official CVE entry at
	https://cve.org/CVERecord/?id=CVE-2025-37852
will be updated if fixes are backported, please check that for the most
up to date information about this issue.


Affected files
==============

The file(s) affected by this issue are:
	drivers/gpu/drm/amd/pm/powerplay/amd_powerplay.c


Mitigation
==========

The Linux kernel CVE team recommends that you update to the latest
stable kernel version for this, and many other bugfixes.  Individual
changes are never tested alone, but rather are part of a larger kernel
release.  Cherry-picking individual commits is not recommended or
supported by the Linux kernel community at all.  If however, updating to
the latest release is impossible, the individual changes to resolve this
issue can be found at these commits:
	https://git.kernel.org/stable/c/55ef52c30c3e747f145a64de96192e37a8fed670
	https://git.kernel.org/stable/c/f8693e1bae9c08233a2f535c3f412e157df32b33
	https://git.kernel.org/stable/c/dc4380f34613eaae997b3ed263bd1cb3d0fd0075
	https://git.kernel.org/stable/c/22ea19cc089013b55c240134dbb2797700ff5a6a
	https://git.kernel.org/stable/c/b784734811438f11533e2fb9e0deb327844bdb56
	https://git.kernel.org/stable/c/1435e895d4fc967d64e9f5bf81e992ac32f5ac76
