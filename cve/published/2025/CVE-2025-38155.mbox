From bippy-1.2.0 Mon Sep 17 00:00:00 2001
From: Greg Kroah-Hartman <gregkh@kernel.org>
To: <linux-cve-announce@vger.kernel.org>
Reply-to: <cve@kernel.org>, <linux-kernel@vger.kernel.org>
Subject: CVE-2025-38155: wifi: mt76: mt7915: Fix null-ptr-deref in mt7915_mmio_wed_init()

Description
===========

In the Linux kernel, the following vulnerability has been resolved:

wifi: mt76: mt7915: Fix null-ptr-deref in mt7915_mmio_wed_init()

devm_ioremap() returns NULL on error. Currently, mt7915_mmio_wed_init()
does not check for this case, which results in a NULL pointer
dereference.

Prevent null pointer dereference in mt7915_mmio_wed_init().

The Linux kernel CVE team has assigned CVE-2025-38155 to this issue.


Affected and fixed versions
===========================

	Issue introduced in 6.2 with commit 4f831d18d12da80cec0bebe5b8ca8702a528195a and fixed in 6.6.94 with commit e9f9cef1877ac32285dbc1f31b86c8955b712fc2
	Issue introduced in 6.2 with commit 4f831d18d12da80cec0bebe5b8ca8702a528195a and fixed in 6.12.34 with commit 790d05cde359356feea8915094a51166af1629f5
	Issue introduced in 6.2 with commit 4f831d18d12da80cec0bebe5b8ca8702a528195a and fixed in 6.15.3 with commit d825ed9fd768be10d52beba6f57a4b50c0c154aa
	Issue introduced in 6.2 with commit 4f831d18d12da80cec0bebe5b8ca8702a528195a and fixed in 6.16 with commit efb95439c1477bbc955cacd0179c35e7861b437c

Please see https://www.kernel.org for a full list of currently supported
kernel versions by the kernel community.

Unaffected versions might change over time as fixes are backported to
older supported kernel versions.  The official CVE entry at
	https://cve.org/CVERecord/?id=CVE-2025-38155
will be updated if fixes are backported, please check that for the most
up to date information about this issue.


Affected files
==============

The file(s) affected by this issue are:
	drivers/net/wireless/mediatek/mt76/mt7915/mmio.c


Mitigation
==========

The Linux kernel CVE team recommends that you update to the latest
stable kernel version for this, and many other bugfixes.  Individual
changes are never tested alone, but rather are part of a larger kernel
release.  Cherry-picking individual commits is not recommended or
supported by the Linux kernel community at all.  If however, updating to
the latest release is impossible, the individual changes to resolve this
issue can be found at these commits:
	https://git.kernel.org/stable/c/e9f9cef1877ac32285dbc1f31b86c8955b712fc2
	https://git.kernel.org/stable/c/790d05cde359356feea8915094a51166af1629f5
	https://git.kernel.org/stable/c/d825ed9fd768be10d52beba6f57a4b50c0c154aa
	https://git.kernel.org/stable/c/efb95439c1477bbc955cacd0179c35e7861b437c
