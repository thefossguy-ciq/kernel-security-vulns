From bippy-1.2.0 Mon Sep 17 00:00:00 2001
From: Greg Kroah-Hartman <gregkh@kernel.org>
To: <linux-cve-announce@vger.kernel.org>
Reply-to: <cve@kernel.org>, <linux-kernel@vger.kernel.org>
Subject: CVE-2025-38733: s390/mm: Do not map lowcore with identity mapping
Message-Id: <2025090543-CVE-2025-38733-65a1@gregkh>
Content-Length: 2504
Lines: 58
X-Developer-Signature: v=1; a=openpgp-sha256; l=2563;
 i=gregkh@linuxfoundation.org; h=from:subject:message-id;
 bh=GpAL3MNI1aPKuX9l+m4mw6UFHBZJ76n5uX0h1UirLpI=;
 b=owGbwMvMwCRo6H6F97bub03G02pJDBm7pV/fnfhj87ysgldxFmt8glvM1BmSU94fvfx/NcuN9
 w+EpZ09O2JZGASZGGTFFFm+bOM5ur/ikKKXoe1pmDmsTCBDGLg4BWAicrUM89N3pGqx/enz2pRb
 b7Ek/r9w83FNC4Y5/CWC7z412N1/2z9LoTtwS7gle04HAA==
X-Developer-Key: i=gregkh@linuxfoundation.org; a=openpgp;
 fpr=F4B60CC5BF78C2214A313DCB3147D40DDB2DFB29

Description
===========

In the Linux kernel, the following vulnerability has been resolved:

s390/mm: Do not map lowcore with identity mapping

Since the identity mapping is pinned to address zero the lowcore is always
also mapped to address zero, this happens regardless of the relocate_lowcore
command line option. If the option is specified the lowcore is mapped
twice, instead of only once.

This means that NULL pointer accesses will succeed instead of causing an
exception (low address protection still applies, but covers only parts).
To fix this never map the first two pages of physical memory with the
identity mapping.

The Linux kernel CVE team has assigned CVE-2025-38733 to this issue.


Affected and fixed versions
===========================

	Issue introduced in 6.11 with commit 32db401965f165f7c44447d0508097f070c8f576 and fixed in 6.12.44 with commit 30bf5728bb217a6d1ba73f44094c9b9c6bc9a567
	Issue introduced in 6.11 with commit 32db401965f165f7c44447d0508097f070c8f576 and fixed in 6.16.4 with commit 1d7864acd497cb468a998d44631f84896f885e85
	Issue introduced in 6.11 with commit 32db401965f165f7c44447d0508097f070c8f576 and fixed in 6.17-rc3 with commit 93f616ff870a1fb7e84d472cad0af651b18f9f87
	Issue introduced in 6.10.11 with commit 0b99d0e17d6a73a0526f92bc6b54b2b95e67a31d

Please see https://www.kernel.org for a full list of currently supported
kernel versions by the kernel community.

Unaffected versions might change over time as fixes are backported to
older supported kernel versions.  The official CVE entry at
	https://cve.org/CVERecord/?id=CVE-2025-38733
will be updated if fixes are backported, please check that for the most
up to date information about this issue.


Affected files
==============

The file(s) affected by this issue are:
	arch/s390/boot/vmem.c


Mitigation
==========

The Linux kernel CVE team recommends that you update to the latest
stable kernel version for this, and many other bugfixes.  Individual
changes are never tested alone, but rather are part of a larger kernel
release.  Cherry-picking individual commits is not recommended or
supported by the Linux kernel community at all.  If however, updating to
the latest release is impossible, the individual changes to resolve this
issue can be found at these commits:
	https://git.kernel.org/stable/c/30bf5728bb217a6d1ba73f44094c9b9c6bc9a567
	https://git.kernel.org/stable/c/1d7864acd497cb468a998d44631f84896f885e85
	https://git.kernel.org/stable/c/93f616ff870a1fb7e84d472cad0af651b18f9f87
