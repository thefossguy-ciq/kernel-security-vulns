From bippy-1.2.0 Mon Sep 17 00:00:00 2001
From: Greg Kroah-Hartman <gregkh@kernel.org>
To: <linux-cve-announce@vger.kernel.org>
Reply-to: <cve@kernel.org>, <linux-kernel@vger.kernel.org>
Subject: CVE-2026-23145: ext4: fix iloc.bh leak in ext4_xattr_inode_update_ref
Message-Id: <2026021417-CVE-2026-23145-0c0b@gregkh>
Content-Length: 3141
Lines: 60
X-Developer-Signature: v=1; a=openpgp-sha256; l=3202;
 i=gregkh@linuxfoundation.org; h=from:subject:message-id;
 bh=CWO+6w65AXcwXDhI4rjuwk9Br5UVK8PexuKDA3dTSiI=;
 b=owGbwMvMwCRo6H6F97bub03G02pJDJkTphWGPZjzv3jhhNP6F90OrdwvdmCuzP3fl6y+7mbv5
 HdNMu7e2xHLwiDIxCArpsjyZRvP0f0VhxS9DG1Pw8xhZQIZwsDFKQATkcxgmGeq7rc1ofXmYs+A
 O86P8tx8o1ddtGOYH/jjsayXgo/ecoYgbbkE1TfTM+OuAwA=
X-Developer-Key: i=gregkh@linuxfoundation.org; a=openpgp;
 fpr=F4B60CC5BF78C2214A313DCB3147D40DDB2DFB29

Description
===========

In the Linux kernel, the following vulnerability has been resolved:

ext4: fix iloc.bh leak in ext4_xattr_inode_update_ref

The error branch for ext4_xattr_inode_update_ref forget to release the
refcount for iloc.bh. Find this when review code.

The Linux kernel CVE team has assigned CVE-2026-23145 to this issue.


Affected and fixed versions
===========================

	Issue introduced in 5.10.246 with commit 1cfb3e4ddbdc8e02e637b8852540bd4718bf4814 and fixed in 5.10.249 with commit 7c9f059c3d531a12d7ad96cd34a44b8af7c00d5f
	Issue introduced in 5.15.195 with commit 505e69f76ac497e788f4ea0267826ec7266b40c8 and fixed in 5.15.199 with commit 6241cd1d0acc2363016ac55b8773ba1332dd59d7
	Issue introduced in 6.1.157 with commit 3d6269028246f4484bfed403c947a114bb583631 and fixed in 6.1.162 with commit 3b00c16e42428a1ecd3a5eb9cc37f8ad9bd47626
	Issue introduced in 6.6.113 with commit 79ea7f3e11effe1bd9e753172981d9029133a278 and fixed in 6.6.122 with commit 0b06cde92f2f960f4ebe3c988c69f2711f2a24dc
	Issue introduced in 6.12.54 with commit 6b879c4c6bbaab03c0ad2a983953bd1410bb165e and fixed in 6.12.67 with commit 8e8542c539927ae3898a4d02941f84e252e2dea1
	Issue introduced in 6.18 with commit 57295e835408d8d425bef58da5253465db3d6888 and fixed in 6.18.7 with commit 06e26287f2e349a28ad363941ffd9076bfed8b2e
	Issue introduced in 6.18 with commit 57295e835408d8d425bef58da5253465db3d6888 and fixed in 6.19 with commit d250bdf531d9cd4096fedbb9f172bb2ca660c868
	Issue introduced in 5.4.301 with commit ea39e712c2f5ae148ee5515798ae03523673e002
	Issue introduced in 6.17.4 with commit 440b003f449a4ff2a00b08c8eab9ba5cd28f3943

Please see https://www.kernel.org for a full list of currently supported
kernel versions by the kernel community.

Unaffected versions might change over time as fixes are backported to
older supported kernel versions.  The official CVE entry at
	https://cve.org/CVERecord/?id=CVE-2026-23145
will be updated if fixes are backported, please check that for the most
up to date information about this issue.


Affected files
==============

The file(s) affected by this issue are:
	fs/ext4/xattr.c


Mitigation
==========

The Linux kernel CVE team recommends that you update to the latest
stable kernel version for this, and many other bugfixes.  Individual
changes are never tested alone, but rather are part of a larger kernel
release.  Cherry-picking individual commits is not recommended or
supported by the Linux kernel community at all.  If however, updating to
the latest release is impossible, the individual changes to resolve this
issue can be found at these commits:
	https://git.kernel.org/stable/c/7c9f059c3d531a12d7ad96cd34a44b8af7c00d5f
	https://git.kernel.org/stable/c/6241cd1d0acc2363016ac55b8773ba1332dd59d7
	https://git.kernel.org/stable/c/3b00c16e42428a1ecd3a5eb9cc37f8ad9bd47626
	https://git.kernel.org/stable/c/0b06cde92f2f960f4ebe3c988c69f2711f2a24dc
	https://git.kernel.org/stable/c/8e8542c539927ae3898a4d02941f84e252e2dea1
	https://git.kernel.org/stable/c/06e26287f2e349a28ad363941ffd9076bfed8b2e
	https://git.kernel.org/stable/c/d250bdf531d9cd4096fedbb9f172bb2ca660c868
