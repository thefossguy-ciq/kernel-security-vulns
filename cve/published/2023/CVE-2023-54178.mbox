From bippy-1.2.0 Mon Sep 17 00:00:00 2001
From: Greg Kroah-Hartman <gregkh@kernel.org>
To: <linux-cve-announce@vger.kernel.org>
Reply-to: <cve@kernel.org>, <linux-kernel@vger.kernel.org>
Subject: CVE-2023-54178: of: unittest: fix null pointer dereferencing in of_unittest_find_node_by_name()

Description
===========

In the Linux kernel, the following vulnerability has been resolved:

of: unittest: fix null pointer dereferencing in of_unittest_find_node_by_name()

when kmalloc() fail to allocate memory in kasprintf(), name
or full_name will be NULL, strcmp() will cause
null pointer dereference.

The Linux kernel CVE team has assigned CVE-2023-54178 to this issue.


Affected and fixed versions
===========================

	Issue introduced in 4.14 with commit 0d638a07d3a1e98a7598eb2812a6236324e4c55f and fixed in 4.14.326 with commit c364fa869b33ca42a263bf91c22fce7e6c61d479
	Issue introduced in 4.14 with commit 0d638a07d3a1e98a7598eb2812a6236324e4c55f and fixed in 4.19.295 with commit 0b7d715511915a1b39f5fdcbe57a7922dfd66513
	Issue introduced in 4.14 with commit 0d638a07d3a1e98a7598eb2812a6236324e4c55f and fixed in 5.4.257 with commit dadf0d0dfcc81cdcb27ba5426676d13a9e4fb925
	Issue introduced in 4.14 with commit 0d638a07d3a1e98a7598eb2812a6236324e4c55f and fixed in 5.10.195 with commit f41c65f8d05be734898cbe72af59a401b97d298a
	Issue introduced in 4.14 with commit 0d638a07d3a1e98a7598eb2812a6236324e4c55f and fixed in 5.15.132 with commit ea5bc6f5aa099e3e84d037282836234ad77cba88
	Issue introduced in 4.14 with commit 0d638a07d3a1e98a7598eb2812a6236324e4c55f and fixed in 6.1.53 with commit 43cc228099c514467b8074d7ede6673cef9f33b9
	Issue introduced in 4.14 with commit 0d638a07d3a1e98a7598eb2812a6236324e4c55f and fixed in 6.4.16 with commit c74ae8124f9687062dd99858f34c9d027ddd73da
	Issue introduced in 4.14 with commit 0d638a07d3a1e98a7598eb2812a6236324e4c55f and fixed in 6.5.3 with commit 2dd8ee9de71ad8447f8459fb01dade7f6c7132da
	Issue introduced in 4.14 with commit 0d638a07d3a1e98a7598eb2812a6236324e4c55f and fixed in 6.6 with commit d6ce4f0ea19c32f10867ed93d8386924326ab474

Please see https://www.kernel.org for a full list of currently supported
kernel versions by the kernel community.

Unaffected versions might change over time as fixes are backported to
older supported kernel versions.  The official CVE entry at
	https://cve.org/CVERecord/?id=CVE-2023-54178
will be updated if fixes are backported, please check that for the most
up to date information about this issue.


Affected files
==============

The file(s) affected by this issue are:
	drivers/of/unittest.c


Mitigation
==========

The Linux kernel CVE team recommends that you update to the latest
stable kernel version for this, and many other bugfixes.  Individual
changes are never tested alone, but rather are part of a larger kernel
release.  Cherry-picking individual commits is not recommended or
supported by the Linux kernel community at all.  If however, updating to
the latest release is impossible, the individual changes to resolve this
issue can be found at these commits:
	https://git.kernel.org/stable/c/c364fa869b33ca42a263bf91c22fce7e6c61d479
	https://git.kernel.org/stable/c/0b7d715511915a1b39f5fdcbe57a7922dfd66513
	https://git.kernel.org/stable/c/dadf0d0dfcc81cdcb27ba5426676d13a9e4fb925
	https://git.kernel.org/stable/c/f41c65f8d05be734898cbe72af59a401b97d298a
	https://git.kernel.org/stable/c/ea5bc6f5aa099e3e84d037282836234ad77cba88
	https://git.kernel.org/stable/c/43cc228099c514467b8074d7ede6673cef9f33b9
	https://git.kernel.org/stable/c/c74ae8124f9687062dd99858f34c9d027ddd73da
	https://git.kernel.org/stable/c/2dd8ee9de71ad8447f8459fb01dade7f6c7132da
	https://git.kernel.org/stable/c/d6ce4f0ea19c32f10867ed93d8386924326ab474
