From bippy-1.2.0 Mon Sep 17 00:00:00 2001
From: Greg Kroah-Hartman <gregkh@kernel.org>
To: <linux-cve-announce@vger.kernel.org>
Reply-to: <cve@kernel.org>, <linux-kernel@vger.kernel.org>
Subject: CVE-2023-53786: dm flakey: fix a crash with invalid table line

Description
===========

In the Linux kernel, the following vulnerability has been resolved:

dm flakey: fix a crash with invalid table line

This command will crash with NULL pointer dereference:
 dmsetup create flakey --table \
  "0 `blockdev --getsize /dev/ram0` flakey /dev/ram0 0 0 1 2 corrupt_bio_byte 512"

Fix the crash by checking if arg_name is non-NULL before comparing it.

The Linux kernel CVE team has assigned CVE-2023-53786 to this issue.


Affected and fixed versions
===========================

	Issue introduced in 3.1 with commit a3998799fb4df0b0af8271a7d50c4269032397aa and fixed in 4.14.315 with commit f95cb1526669ccdf7eb12eefd57a893953e3595f
	Issue introduced in 3.1 with commit a3998799fb4df0b0af8271a7d50c4269032397aa and fixed in 4.19.283 with commit 12849ed107c0b2869fb775c81208050899006f07
	Issue introduced in 3.1 with commit a3998799fb4df0b0af8271a7d50c4269032397aa and fixed in 5.4.243 with commit 337b7af273562b73c46ef77a724604ad139ca762
	Issue introduced in 3.1 with commit a3998799fb4df0b0af8271a7d50c4269032397aa and fixed in 5.10.180 with commit a1e3fffe02e05c05357af91364ac0fc1ed425b5b
	Issue introduced in 3.1 with commit a3998799fb4df0b0af8271a7d50c4269032397aa and fixed in 5.15.111 with commit f76fcb9d43ec014ac4a1bb983768696d5b032df9
	Issue introduced in 3.1 with commit a3998799fb4df0b0af8271a7d50c4269032397aa and fixed in 6.1.28 with commit cb874a190f3f7c3c3fa5b979bee7a3b8cc3a19cc
	Issue introduced in 3.1 with commit a3998799fb4df0b0af8271a7d50c4269032397aa and fixed in 6.2.15 with commit 83b4e3d878ea6be9aec1d5a1ab177c766c64d1a0
	Issue introduced in 3.1 with commit a3998799fb4df0b0af8271a7d50c4269032397aa and fixed in 6.3.2 with commit 8258d84a7917aeece773716518deadb7ad776cb7
	Issue introduced in 3.1 with commit a3998799fb4df0b0af8271a7d50c4269032397aa and fixed in 6.4 with commit 98dba02d9a93eec11bffbb93c7c51624290702d2

Please see https://www.kernel.org for a full list of currently supported
kernel versions by the kernel community.

Unaffected versions might change over time as fixes are backported to
older supported kernel versions.  The official CVE entry at
	https://cve.org/CVERecord/?id=CVE-2023-53786
will be updated if fixes are backported, please check that for the most
up to date information about this issue.


Affected files
==============

The file(s) affected by this issue are:
	drivers/md/dm-flakey.c


Mitigation
==========

The Linux kernel CVE team recommends that you update to the latest
stable kernel version for this, and many other bugfixes.  Individual
changes are never tested alone, but rather are part of a larger kernel
release.  Cherry-picking individual commits is not recommended or
supported by the Linux kernel community at all.  If however, updating to
the latest release is impossible, the individual changes to resolve this
issue can be found at these commits:
	https://git.kernel.org/stable/c/f95cb1526669ccdf7eb12eefd57a893953e3595f
	https://git.kernel.org/stable/c/12849ed107c0b2869fb775c81208050899006f07
	https://git.kernel.org/stable/c/337b7af273562b73c46ef77a724604ad139ca762
	https://git.kernel.org/stable/c/a1e3fffe02e05c05357af91364ac0fc1ed425b5b
	https://git.kernel.org/stable/c/f76fcb9d43ec014ac4a1bb983768696d5b032df9
	https://git.kernel.org/stable/c/cb874a190f3f7c3c3fa5b979bee7a3b8cc3a19cc
	https://git.kernel.org/stable/c/83b4e3d878ea6be9aec1d5a1ab177c766c64d1a0
	https://git.kernel.org/stable/c/8258d84a7917aeece773716518deadb7ad776cb7
	https://git.kernel.org/stable/c/98dba02d9a93eec11bffbb93c7c51624290702d2
