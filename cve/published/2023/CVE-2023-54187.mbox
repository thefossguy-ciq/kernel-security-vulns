From bippy-1.2.0 Mon Sep 17 00:00:00 2001
From: Greg Kroah-Hartman <gregkh@kernel.org>
To: <linux-cve-announce@vger.kernel.org>
Reply-to: <cve@kernel.org>, <linux-kernel@vger.kernel.org>
Subject: CVE-2023-54187: f2fs: fix potential corruption when moving a directory

Description
===========

In the Linux kernel, the following vulnerability has been resolved:

f2fs: fix potential corruption when moving a directory

F2FS has the same issue in ext4_rename causing crash revealed by
xfstests/generic/707.

See also commit 0813299c586b ("ext4: Fix possible corruption when moving a directory")

The Linux kernel CVE team has assigned CVE-2023-54187 to this issue.


Affected and fixed versions
===========================

	Issue introduced in 3.19 with commit 622f28ae9ba4fa89b4ff0f4a6cf75d153ea838ce and fixed in 5.4.243 with commit 3e77036246123ff710fa2661dcaa12a45284f09b
	Issue introduced in 3.19 with commit 622f28ae9ba4fa89b4ff0f4a6cf75d153ea838ce and fixed in 5.10.180 with commit 957904f531fd857a92743b11fbc9c9ffdf7f3207
	Issue introduced in 3.19 with commit 622f28ae9ba4fa89b4ff0f4a6cf75d153ea838ce and fixed in 5.15.112 with commit 8f57f3e112cf1d16682b6ff9c31c72f40f7da9c9
	Issue introduced in 3.19 with commit 622f28ae9ba4fa89b4ff0f4a6cf75d153ea838ce and fixed in 6.1.29 with commit 8a0b544b7caedfbc05065b6377fd1d8bf7ef5e70
	Issue introduced in 3.19 with commit 622f28ae9ba4fa89b4ff0f4a6cf75d153ea838ce and fixed in 6.2.16 with commit f20191100952013f0916418cdaed0ab55c7b634c
	Issue introduced in 3.19 with commit 622f28ae9ba4fa89b4ff0f4a6cf75d153ea838ce and fixed in 6.3.3 with commit 0a76082a4a32a90d1ef33dee8b400efc082b4b6f
	Issue introduced in 3.19 with commit 622f28ae9ba4fa89b4ff0f4a6cf75d153ea838ce and fixed in 6.4 with commit d94772154e524b329a168678836745d2773a6e02

Please see https://www.kernel.org for a full list of currently supported
kernel versions by the kernel community.

Unaffected versions might change over time as fixes are backported to
older supported kernel versions.  The official CVE entry at
	https://cve.org/CVERecord/?id=CVE-2023-54187
will be updated if fixes are backported, please check that for the most
up to date information about this issue.


Affected files
==============

The file(s) affected by this issue are:
	fs/f2fs/namei.c


Mitigation
==========

The Linux kernel CVE team recommends that you update to the latest
stable kernel version for this, and many other bugfixes.  Individual
changes are never tested alone, but rather are part of a larger kernel
release.  Cherry-picking individual commits is not recommended or
supported by the Linux kernel community at all.  If however, updating to
the latest release is impossible, the individual changes to resolve this
issue can be found at these commits:
	https://git.kernel.org/stable/c/3e77036246123ff710fa2661dcaa12a45284f09b
	https://git.kernel.org/stable/c/957904f531fd857a92743b11fbc9c9ffdf7f3207
	https://git.kernel.org/stable/c/8f57f3e112cf1d16682b6ff9c31c72f40f7da9c9
	https://git.kernel.org/stable/c/8a0b544b7caedfbc05065b6377fd1d8bf7ef5e70
	https://git.kernel.org/stable/c/f20191100952013f0916418cdaed0ab55c7b634c
	https://git.kernel.org/stable/c/0a76082a4a32a90d1ef33dee8b400efc082b4b6f
	https://git.kernel.org/stable/c/d94772154e524b329a168678836745d2773a6e02
