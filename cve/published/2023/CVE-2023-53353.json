{
   "containers": {
      "cna": {
         "providerMetadata": {
            "orgId": "f4215fc3-5b6b-47ff-a258-f7189bd81038"
         },
         "descriptions": [
            {
               "lang": "en",
               "value": "In the Linux kernel, the following vulnerability has been resolved:\n\naccel/habanalabs: postpone mem_mgr IDR destruction to hpriv_release()\n\nThe memory manager IDR is currently destroyed when user releases the\nfile descriptor.\nHowever, at this point the user context might be still held, and memory\nbuffers might be still in use.\nLater on, calls to release those buffers will fail due to not finding\ntheir handles in the IDR, leading to a memory leak.\nTo avoid this leak, split the IDR destruction from the memory manager\nfini, and postpone it to hpriv_release() when there is no user context\nand no buffers are used."
            }
         ],
         "affected": [
            {
               "product": "Linux",
               "vendor": "Linux",
               "defaultStatus": "unaffected",
               "repo": "https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git",
               "programFiles": [
                  "drivers/accel/habanalabs/common/device.c",
                  "drivers/accel/habanalabs/common/habanalabs.h",
                  "drivers/accel/habanalabs/common/habanalabs_drv.c",
                  "drivers/accel/habanalabs/common/memory_mgr.c"
               ],
               "versions": [
                  {
                     "version": "0feaf86d4e69507ab9b2af7dcc63a6886352d5db",
                     "lessThan": "840de329ca99cafd0cdde9c6ac160b1330942aba",
                     "status": "affected",
                     "versionType": "git"
                  },
                  {
                     "version": "0feaf86d4e69507ab9b2af7dcc63a6886352d5db",
                     "lessThan": "2e8e9a895c4589f124a37fc84d123b5114406e94",
                     "status": "affected",
                     "versionType": "git"
                  }
               ]
            },
            {
               "product": "Linux",
               "vendor": "Linux",
               "defaultStatus": "affected",
               "repo": "https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git",
               "programFiles": [
                  "drivers/accel/habanalabs/common/device.c",
                  "drivers/accel/habanalabs/common/habanalabs.h",
                  "drivers/accel/habanalabs/common/habanalabs_drv.c",
                  "drivers/accel/habanalabs/common/memory_mgr.c"
               ],
               "versions": [
                  {
                     "version": "5.1",
                     "status": "affected"
                  },
                  {
                     "version": "0",
                     "lessThan": "5.1",
                     "status": "unaffected",
                     "versionType": "semver"
                  },
                  {
                     "version": "6.3.4",
                     "lessThanOrEqual": "6.3.*",
                     "status": "unaffected",
                     "versionType": "semver"
                  },
                  {
                     "version": "6.4",
                     "lessThanOrEqual": "*",
                     "status": "unaffected",
                     "versionType": "original_commit_for_fix"
                  }
               ]
            }
         ],
         "cpeApplicability": [
            {
               "nodes": [
                  {
                     "operator": "OR",
                     "negate": false,
                     "cpeMatch": [
                        {
                           "vulnerable": true,
                           "criteria": "cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*",
                           "versionStartIncluding": "5.1",
                           "versionEndExcluding": "6.3.4"
                        },
                        {
                           "vulnerable": true,
                           "criteria": "cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*",
                           "versionStartIncluding": "5.1",
                           "versionEndExcluding": "6.4"
                        }
                     ]
                  }
               ]
            }
         ],
         "references": [
            {
               "url": "https://git.kernel.org/stable/c/840de329ca99cafd0cdde9c6ac160b1330942aba"
            },
            {
               "url": "https://git.kernel.org/stable/c/2e8e9a895c4589f124a37fc84d123b5114406e94"
            }
         ],
         "title": "accel/habanalabs: postpone mem_mgr IDR destruction to hpriv_release()",
         "x_generator": {
            "engine": "bippy-1.2.0"
         }
      }
   },
   "cveMetadata": {
      "assignerOrgId": "f4215fc3-5b6b-47ff-a258-f7189bd81038",
      "cveID": "CVE-2023-53353",
      "requesterUserId": "gregkh@kernel.org",
      "serial": "1",
      "state": "PUBLISHED"
   },
   "dataType": "CVE_RECORD",
   "dataVersion": "5.0"
}
