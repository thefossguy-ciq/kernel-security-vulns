From bippy-1.2.0 Mon Sep 17 00:00:00 2001
From: Greg Kroah-Hartman <gregkh@kernel.org>
To: <linux-cve-announce@vger.kernel.org>
Reply-to: <cve@kernel.org>, <linux-kernel@vger.kernel.org>
Subject: CVE-2023-54084: ALSA: firewire-digi00x: prevent potential use after free

Description
===========

In the Linux kernel, the following vulnerability has been resolved:

ALSA: firewire-digi00x: prevent potential use after free

This code was supposed to return an error code if init_stream()
failed, but it instead freed dg00x->rx_stream and returned success.
This potentially leads to a use after free.

The Linux kernel CVE team has assigned CVE-2023-54084 to this issue.


Affected and fixed versions
===========================

	Issue introduced in 5.4 with commit 9a08067ec318cbeaf0caa2d104cf677e723e02a3 and fixed in 5.4.244 with commit 5009aead17f060753428e249eb0246eb1c2f8b86
	Issue introduced in 5.4 with commit 9a08067ec318cbeaf0caa2d104cf677e723e02a3 and fixed in 5.10.181 with commit 13c5fa1248bf06e95a25907c1be83948b8c44c50
	Issue introduced in 5.4 with commit 9a08067ec318cbeaf0caa2d104cf677e723e02a3 and fixed in 5.15.113 with commit bbb5ac533ca6c4e2775a95388c9c0c610bb442b7
	Issue introduced in 5.4 with commit 9a08067ec318cbeaf0caa2d104cf677e723e02a3 and fixed in 6.1.30 with commit ee1a221d947809c0308f27567c07a3ac93406057
	Issue introduced in 5.4 with commit 9a08067ec318cbeaf0caa2d104cf677e723e02a3 and fixed in 6.3.4 with commit 67148395efa2c1fb20e98fca359b20e7a6c81fe4
	Issue introduced in 5.4 with commit 9a08067ec318cbeaf0caa2d104cf677e723e02a3 and fixed in 6.4 with commit c0e72058d5e21982e61a29de6b098f7c1f0db498

Please see https://www.kernel.org for a full list of currently supported
kernel versions by the kernel community.

Unaffected versions might change over time as fixes are backported to
older supported kernel versions.  The official CVE entry at
	https://cve.org/CVERecord/?id=CVE-2023-54084
will be updated if fixes are backported, please check that for the most
up to date information about this issue.


Affected files
==============

The file(s) affected by this issue are:
	sound/firewire/digi00x/digi00x-stream.c


Mitigation
==========

The Linux kernel CVE team recommends that you update to the latest
stable kernel version for this, and many other bugfixes.  Individual
changes are never tested alone, but rather are part of a larger kernel
release.  Cherry-picking individual commits is not recommended or
supported by the Linux kernel community at all.  If however, updating to
the latest release is impossible, the individual changes to resolve this
issue can be found at these commits:
	https://git.kernel.org/stable/c/5009aead17f060753428e249eb0246eb1c2f8b86
	https://git.kernel.org/stable/c/13c5fa1248bf06e95a25907c1be83948b8c44c50
	https://git.kernel.org/stable/c/bbb5ac533ca6c4e2775a95388c9c0c610bb442b7
	https://git.kernel.org/stable/c/ee1a221d947809c0308f27567c07a3ac93406057
	https://git.kernel.org/stable/c/67148395efa2c1fb20e98fca359b20e7a6c81fe4
	https://git.kernel.org/stable/c/c0e72058d5e21982e61a29de6b098f7c1f0db498
