From bippy-1.2.0 Mon Sep 17 00:00:00 2001
From: Greg Kroah-Hartman <gregkh@kernel.org>
To: <linux-cve-announce@vger.kernel.org>
Reply-to: <cve@kernel.org>, <linux-kernel@vger.kernel.org>
Subject: CVE-2023-53449: s390/dasd: Fix potential memleak in dasd_eckd_init()

Description
===========

In the Linux kernel, the following vulnerability has been resolved:

s390/dasd: Fix potential memleak in dasd_eckd_init()

`dasd_reserve_req` is allocated before `dasd_vol_info_req`, and it
also needs to be freed before the error returns, just like the other
cases in this function.

The Linux kernel CVE team has assigned CVE-2023-53449 to this issue.


Affected and fixed versions
===========================

	Issue introduced in 5.3 with commit 9e12e54c7a8f616190beffb0f7ce778a86aec175 and fixed in 5.4.235 with commit ee986d80acdef710a886be404308188ea11000c8
	Issue introduced in 5.3 with commit 9e12e54c7a8f616190beffb0f7ce778a86aec175 and fixed in 5.10.173 with commit a50e28d433acf22258f9f34831057387f04ef074
	Issue introduced in 5.3 with commit 9e12e54c7a8f616190beffb0f7ce778a86aec175 and fixed in 5.15.99 with commit 544a552be0869231799784279d52704c4d314d33
	Issue introduced in 5.3 with commit 9e12e54c7a8f616190beffb0f7ce778a86aec175 and fixed in 6.1.16 with commit ef3a7ffc0a6f833578bc8d1dcb79d0633c7e4ec3
	Issue introduced in 5.3 with commit 9e12e54c7a8f616190beffb0f7ce778a86aec175 and fixed in 6.2.3 with commit aede5230d154b6b237985ec9df7ebbd1dce96810
	Issue introduced in 5.3 with commit 9e12e54c7a8f616190beffb0f7ce778a86aec175 and fixed in 6.3 with commit 460e9bed82e49db1b823dcb4e421783854d86c40

Please see https://www.kernel.org for a full list of currently supported
kernel versions by the kernel community.

Unaffected versions might change over time as fixes are backported to
older supported kernel versions.  The official CVE entry at
	https://cve.org/CVERecord/?id=CVE-2023-53449
will be updated if fixes are backported, please check that for the most
up to date information about this issue.


Affected files
==============

The file(s) affected by this issue are:
	drivers/s390/block/dasd_eckd.c


Mitigation
==========

The Linux kernel CVE team recommends that you update to the latest
stable kernel version for this, and many other bugfixes.  Individual
changes are never tested alone, but rather are part of a larger kernel
release.  Cherry-picking individual commits is not recommended or
supported by the Linux kernel community at all.  If however, updating to
the latest release is impossible, the individual changes to resolve this
issue can be found at these commits:
	https://git.kernel.org/stable/c/ee986d80acdef710a886be404308188ea11000c8
	https://git.kernel.org/stable/c/a50e28d433acf22258f9f34831057387f04ef074
	https://git.kernel.org/stable/c/544a552be0869231799784279d52704c4d314d33
	https://git.kernel.org/stable/c/ef3a7ffc0a6f833578bc8d1dcb79d0633c7e4ec3
	https://git.kernel.org/stable/c/aede5230d154b6b237985ec9df7ebbd1dce96810
	https://git.kernel.org/stable/c/460e9bed82e49db1b823dcb4e421783854d86c40
