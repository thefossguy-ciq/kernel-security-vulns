From: Linux Kernel CVE team <cve@kernel.org>
Subject: CVE-2023-21657: kvm: initialize all of the kvm_debugregs structure before sending it to userspace

Description
===========

kvm: initialize all of the kvm_debugregs structure before sending it to userspace

When calling the KVM_GET_DEBUGREGS ioctl, on some configurations, there
might be some unitialized portions of the kvm_debugregs structure that
could be copied to userspace.  Prevent this as is done in the other kvm
ioctls, by setting the whole structure to 0 before copying anything into
it.

Bonus is that this reduces the lines of code as the explicit flag
setting and reserved space zeroing out can be removed.

The Linux kernel CVE team has assigned CVE-2023-21657 to this issue.


Mitigation
==========

The individual change to resolve this issue can be found at:
	https://git.kernel.org/stable/linux/c/2c10b61421a28e95a46ab489fd56c0f442ff6952


Affected versions
=================
	Fixed in 4.14.306
	Fixed in 4.19.273
	Fixed in 5.4.232
	Fixed in 5.10.169
	Fixed in 5.15.95
	Fixed in 6.1.13
	Fixed in 6.2


Recomendation
=============
The Linux kernel CVE team recommends that you update to the latest
stable kernel version for this, and many other bugfixes.  Individual
changes are not tested alone, but rather are part of a larger kernel
release.  Cherry-picking individual commits is not recommended or
supported by the Linux kernel community at all.
