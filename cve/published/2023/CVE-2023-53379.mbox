From bippy-1.2.0 Mon Sep 17 00:00:00 2001
From: Greg Kroah-Hartman <gregkh@kernel.org>
To: <linux-cve-announce@vger.kernel.org>
Reply-to: <cve@kernel.org>, <linux-kernel@vger.kernel.org>
Subject: CVE-2023-53379: usb: phy: phy-tahvo: fix memory leak in tahvo_usb_probe()

Description
===========

In the Linux kernel, the following vulnerability has been resolved:

usb: phy: phy-tahvo: fix memory leak in tahvo_usb_probe()

Smatch reports:
drivers/usb/phy/phy-tahvo.c: tahvo_usb_probe()
warn: missing unwind goto?

After geting irq, if ret < 0, it will return without error handling to
free memory.
Just add error handling to fix this problem.

The Linux kernel CVE team has assigned CVE-2023-53379 to this issue.


Affected and fixed versions
===========================

	Issue introduced in 4.14.247 with commit 3f06415418f37ac602e71a61ee83ea43553e6bbd and fixed in 4.14.322 with commit 3e5a7bebf832b1482efe27bcc15a88c5b28a30d0
	Issue introduced in 4.19.207 with commit 5e2d2f05204f7ab9c645a1fb9f10a3f6393dd2fa and fixed in 4.19.291 with commit 4da9edeccf77d7b4c6dbcb34d5908acdaa5bd7e3
	Issue introduced in 5.4.146 with commit 606668e24a0d7fd262e2326d76bb60b965fe713f and fixed in 5.4.251 with commit fe9cdc19861950582f077f254a12026e169eaee5
	Issue introduced in 5.10.65 with commit 494629ba62a961de1f2dd0b7125878acb27b8043 and fixed in 5.10.188 with commit 56901de563359de20513e16a9ae008ae2c22e9a9
	Issue introduced in 5.15 with commit 0d45a1373e669880b8beaecc8765f44cb0241e47 and fixed in 5.15.121 with commit ecf26d6e1b5450620c214feea537bb6ce05c6741
	Issue introduced in 5.15 with commit 0d45a1373e669880b8beaecc8765f44cb0241e47 and fixed in 6.1.39 with commit dd9b7c89a80428cc5f4ae0d2e1311fdedb2a1aac
	Issue introduced in 5.15 with commit 0d45a1373e669880b8beaecc8765f44cb0241e47 and fixed in 6.4.4 with commit 38dbd6f72bfbeba009efe0e9ec1f3ff09f9e23fa
	Issue introduced in 5.15 with commit 0d45a1373e669880b8beaecc8765f44cb0241e47 and fixed in 6.5 with commit 342161c11403ea00e9febc16baab1d883d589d04
	Issue introduced in 4.4.284 with commit 62e663c172115b9e26a0856508db6277871a7c32
	Issue introduced in 4.9.283 with commit 4eab21911d5d6a3377b8965b9fb06463b248fe6b
	Issue introduced in 5.13.17 with commit dcf379ea4e93b8ea23d628db68ae953b26d63af1
	Issue introduced in 5.14.4 with commit b45f0d0105a0f50e681dc8fac4b32e1192de34f2

Please see https://www.kernel.org for a full list of currently supported
kernel versions by the kernel community.

Unaffected versions might change over time as fixes are backported to
older supported kernel versions.  The official CVE entry at
	https://cve.org/CVERecord/?id=CVE-2023-53379
will be updated if fixes are backported, please check that for the most
up to date information about this issue.


Affected files
==============

The file(s) affected by this issue are:
	drivers/usb/phy/phy-tahvo.c


Mitigation
==========

The Linux kernel CVE team recommends that you update to the latest
stable kernel version for this, and many other bugfixes.  Individual
changes are never tested alone, but rather are part of a larger kernel
release.  Cherry-picking individual commits is not recommended or
supported by the Linux kernel community at all.  If however, updating to
the latest release is impossible, the individual changes to resolve this
issue can be found at these commits:
	https://git.kernel.org/stable/c/3e5a7bebf832b1482efe27bcc15a88c5b28a30d0
	https://git.kernel.org/stable/c/4da9edeccf77d7b4c6dbcb34d5908acdaa5bd7e3
	https://git.kernel.org/stable/c/fe9cdc19861950582f077f254a12026e169eaee5
	https://git.kernel.org/stable/c/56901de563359de20513e16a9ae008ae2c22e9a9
	https://git.kernel.org/stable/c/ecf26d6e1b5450620c214feea537bb6ce05c6741
	https://git.kernel.org/stable/c/dd9b7c89a80428cc5f4ae0d2e1311fdedb2a1aac
	https://git.kernel.org/stable/c/38dbd6f72bfbeba009efe0e9ec1f3ff09f9e23fa
	https://git.kernel.org/stable/c/342161c11403ea00e9febc16baab1d883d589d04
