From bippy-1.2.0 Mon Sep 17 00:00:00 2001
From: Greg Kroah-Hartman <gregkh@kernel.org>
To: <linux-cve-announce@vger.kernel.org>
Reply-to: <cve@kernel.org>, <linux-kernel@vger.kernel.org>
Subject: CVE-2023-53400: ALSA: hda: Fix Oops by 9.1 surround channel names

Description
===========

In the Linux kernel, the following vulnerability has been resolved:

ALSA: hda: Fix Oops by 9.1 surround channel names

get_line_out_pfx() may trigger an Oops by overflowing the static array
with more than 8 channels.  This was reported for MacBookPro 12,1 with
Cirrus codec.

As a workaround, extend for the 9.1 channels and also fix the
potential Oops by unifying the code paths accessing the same array
with the proper size check.

The Linux kernel CVE team has assigned CVE-2023-53400 to this issue.


Affected and fixed versions
===========================

	Fixed in 4.14.316 with commit 082dcd51667b29097500c824c37f24da997a6a8a
	Fixed in 4.19.284 with commit b5694aae4c2d9a288bafce7d38f122769e0428e6
	Fixed in 5.4.244 with commit 4ef155ddf9578bf035964d58739fdcd7dd44b4a4
	Fixed in 5.10.181 with commit 546b1f5f45a355ae0d3a8041cdaca597dfcac825
	Fixed in 5.15.113 with commit e8c7d7c43d5edd20e518fe1dfb2371d1fe6e8bb8
	Fixed in 6.1.30 with commit dc8c569d59f17b17d7bca4f68c36bd571659921e
	Fixed in 6.3.4 with commit fcf637461019e9a5a0c12fc5c42a9db1779b0634
	Fixed in 6.4 with commit 3b44ec8c5c44790a82f07e90db45643c762878c6

Please see https://www.kernel.org for a full list of currently supported
kernel versions by the kernel community.

Unaffected versions might change over time as fixes are backported to
older supported kernel versions.  The official CVE entry at
	https://cve.org/CVERecord/?id=CVE-2023-53400
will be updated if fixes are backported, please check that for the most
up to date information about this issue.


Affected files
==============

The file(s) affected by this issue are:
	sound/pci/hda/hda_generic.c


Mitigation
==========

The Linux kernel CVE team recommends that you update to the latest
stable kernel version for this, and many other bugfixes.  Individual
changes are never tested alone, but rather are part of a larger kernel
release.  Cherry-picking individual commits is not recommended or
supported by the Linux kernel community at all.  If however, updating to
the latest release is impossible, the individual changes to resolve this
issue can be found at these commits:
	https://git.kernel.org/stable/c/082dcd51667b29097500c824c37f24da997a6a8a
	https://git.kernel.org/stable/c/b5694aae4c2d9a288bafce7d38f122769e0428e6
	https://git.kernel.org/stable/c/4ef155ddf9578bf035964d58739fdcd7dd44b4a4
	https://git.kernel.org/stable/c/546b1f5f45a355ae0d3a8041cdaca597dfcac825
	https://git.kernel.org/stable/c/e8c7d7c43d5edd20e518fe1dfb2371d1fe6e8bb8
	https://git.kernel.org/stable/c/dc8c569d59f17b17d7bca4f68c36bd571659921e
	https://git.kernel.org/stable/c/fcf637461019e9a5a0c12fc5c42a9db1779b0634
	https://git.kernel.org/stable/c/3b44ec8c5c44790a82f07e90db45643c762878c6
