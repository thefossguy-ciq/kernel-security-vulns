From bippy-c9c4e1df01b2 Mon Sep 17 00:00:00 2001
From: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
To: <linux-cve-announce@vger.kernel.org>
Reply-to: <cve@kernel.org>, <linux-kernel@vger.kernel.org>
Subject: CVE-2024-42162: gve: Account for stopped queues when reading NIC stats
Message-Id: <2024073037-CVE-2024-42162-ea68@gregkh>
Content-Length: 1710
Lines: 49
X-Developer-Signature: v=1; a=openpgp-sha256; l=1760;
 i=gregkh@linuxfoundation.org; h=from:subject:message-id;
 bh=nod0usPbcU2YdMLgTLg+ZE2SEvXPvOajSdP13poCIt0=;
 b=owGbwMvMwCRo6H6F97bub03G02pJDGkrZs380LVHs2eTv8wML7+1E0xtuBiuLFPgmqryNuhZf
 bzry5e7O2JZGASZGGTFFFm+bOM5ur/ikKKXoe1pmDmsTCBDGLg4BWAia7oY5qlf3tH4ScCM6bTR
 nBmPGp+4sHLFXmGYZ7V+1hbbtsy2tx1LKj+oq9ts5vjlBAA=
X-Developer-Key: i=gregkh@linuxfoundation.org; a=openpgp;
 fpr=F4B60CC5BF78C2214A313DCB3147D40DDB2DFB29

Description
===========

In the Linux kernel, the following vulnerability has been resolved:

gve: Account for stopped queues when reading NIC stats

We now account for the fact that the NIC might send us stats for a
subset of queues. Without this change, gve_get_ethtool_stats might make
an invalid access on the priv->stats_report->stats array.

The Linux kernel CVE team has assigned CVE-2024-42162 to this issue.


Affected and fixed versions
===========================

	Fixed in 6.9.9 with commit 32675d828c8a
	Fixed in 6.10 with commit af9bcf910b1f

Please see https://www.kernel.org for a full list of currently supported
kernel versions by the kernel community.

Unaffected versions might change over time as fixes are backported to
older supported kernel versions.  The official CVE entry at
	https://cve.org/CVERecord/?id=CVE-2024-42162
will be updated if fixes are backported, please check that for the most
up to date information about this issue.


Affected files
==============

The file(s) affected by this issue are:
	drivers/net/ethernet/google/gve/gve_ethtool.c


Mitigation
==========

The Linux kernel CVE team recommends that you update to the latest
stable kernel version for this, and many other bugfixes.  Individual
changes are never tested alone, but rather are part of a larger kernel
release.  Cherry-picking individual commits is not recommended or
supported by the Linux kernel community at all.  If however, updating to
the latest release is impossible, the individual changes to resolve this
issue can be found at these commits:
	https://git.kernel.org/stable/c/32675d828c8a392e20d5b42375ed112c407e4b62
	https://git.kernel.org/stable/c/af9bcf910b1f86244f39e15e701b2dc564b469a6
