From bippy-1.2.0 Mon Sep 17 00:00:00 2001
From: Greg Kroah-Hartman <gregkh@kernel.org>
To: <linux-cve-announce@vger.kernel.org>
Reply-to: <cve@kernel.org>, <linux-kernel@vger.kernel.org>
Subject: CVE-2022-50641: HSI: omap_ssi: Fix refcount leak in ssi_probe

Description
===========

In the Linux kernel, the following vulnerability has been resolved:

HSI: omap_ssi: Fix refcount leak in ssi_probe

When returning or breaking early from a
for_each_available_child_of_node() loop, we need to explicitly call
of_node_put() on the child node to possibly release the node.

The Linux kernel CVE team has assigned CVE-2022-50641 to this issue.


Affected and fixed versions
===========================

	Issue introduced in 3.16 with commit b209e047bc743247f74ce79e8827ae1ed556bae0 and fixed in 4.9.331 with commit 20fbaff6699ea5553c67550e867d6f90b7085447
	Issue introduced in 3.16 with commit b209e047bc743247f74ce79e8827ae1ed556bae0 and fixed in 4.14.296 with commit 18e199a5541aad6dc5cf51bc3f712247b2d17894
	Issue introduced in 3.16 with commit b209e047bc743247f74ce79e8827ae1ed556bae0 and fixed in 4.19.262 with commit e8a218c17d7c5c42d5609ef92d339b47f3d11d02
	Issue introduced in 3.16 with commit b209e047bc743247f74ce79e8827ae1ed556bae0 and fixed in 5.4.220 with commit aa9c0598b10960ad1198044da1e277a89b4e3af6
	Issue introduced in 3.16 with commit b209e047bc743247f74ce79e8827ae1ed556bae0 and fixed in 5.10.150 with commit 962f22e7f7698f7718d95bd9b63e41fb8cca01a9
	Issue introduced in 3.16 with commit b209e047bc743247f74ce79e8827ae1ed556bae0 and fixed in 5.15.75 with commit 691f23a8475f04c988f7e98066b084e996b40fa0
	Issue introduced in 3.16 with commit b209e047bc743247f74ce79e8827ae1ed556bae0 and fixed in 5.19.17 with commit e25f56f8bdf66126a54b5a88bc021c82bfb50b75
	Issue introduced in 3.16 with commit b209e047bc743247f74ce79e8827ae1ed556bae0 and fixed in 6.0.3 with commit 0eff9ef67d91e350d2047c3e13b6c3b7d0c90bf4
	Issue introduced in 3.16 with commit b209e047bc743247f74ce79e8827ae1ed556bae0 and fixed in 6.1 with commit 9a2ea132df860177b33c9fd421b26c4e9a0a9396

Please see https://www.kernel.org for a full list of currently supported
kernel versions by the kernel community.

Unaffected versions might change over time as fixes are backported to
older supported kernel versions.  The official CVE entry at
	https://cve.org/CVERecord/?id=CVE-2022-50641
will be updated if fixes are backported, please check that for the most
up to date information about this issue.


Affected files
==============

The file(s) affected by this issue are:
	drivers/hsi/controllers/omap_ssi_core.c


Mitigation
==========

The Linux kernel CVE team recommends that you update to the latest
stable kernel version for this, and many other bugfixes.  Individual
changes are never tested alone, but rather are part of a larger kernel
release.  Cherry-picking individual commits is not recommended or
supported by the Linux kernel community at all.  If however, updating to
the latest release is impossible, the individual changes to resolve this
issue can be found at these commits:
	https://git.kernel.org/stable/c/20fbaff6699ea5553c67550e867d6f90b7085447
	https://git.kernel.org/stable/c/18e199a5541aad6dc5cf51bc3f712247b2d17894
	https://git.kernel.org/stable/c/e8a218c17d7c5c42d5609ef92d339b47f3d11d02
	https://git.kernel.org/stable/c/aa9c0598b10960ad1198044da1e277a89b4e3af6
	https://git.kernel.org/stable/c/962f22e7f7698f7718d95bd9b63e41fb8cca01a9
	https://git.kernel.org/stable/c/691f23a8475f04c988f7e98066b084e996b40fa0
	https://git.kernel.org/stable/c/e25f56f8bdf66126a54b5a88bc021c82bfb50b75
	https://git.kernel.org/stable/c/0eff9ef67d91e350d2047c3e13b6c3b7d0c90bf4
	https://git.kernel.org/stable/c/9a2ea132df860177b33c9fd421b26c4e9a0a9396
