From bippy-1.2.0 Mon Sep 17 00:00:00 2001
From: Greg Kroah-Hartman <gregkh@kernel.org>
To: <linux-cve-announce@vger.kernel.org>
Reply-to: <cve@kernel.org>, <linux-kernel@vger.kernel.org>
Subject: CVE-2022-50677: ipmi: fix use after free in _ipmi_destroy_user()
Message-Id: <2025120948-CVE-2022-50677-d2c8@gregkh>
Content-Length: 2953
Lines: 58
X-Developer-Signature: v=1; a=openpgp-sha256; l=3012;
 i=gregkh@linuxfoundation.org; h=from:subject:message-id;
 bh=xnQkiMqttCH8MOvjRD6ZUiowDNRItlmXt9pVf7wonPI=;
 b=owGbwMvMwCRo6H6F97bub03G02pJDJnm1Sc5li8xWv6zcYWx3DG5KuHV1T6OU6cvaHc1l1FqW
 /VtWgNvRywLgyATg6yYIsuXbTxH91ccUvQytD0NM4eVCWQIAxenAExkoh3DXHmHiu9c295u4809
 +vrQwphbU+4bSTMs2Lu30T1j1alNGcF/D79++GfGQsG3igA=
X-Developer-Key: i=gregkh@linuxfoundation.org; a=openpgp;
 fpr=F4B60CC5BF78C2214A313DCB3147D40DDB2DFB29

Description
===========

In the Linux kernel, the following vulnerability has been resolved:

ipmi: fix use after free in _ipmi_destroy_user()

The intf_free() function frees the "intf" pointer so we cannot
dereference it again on the next line.

The Linux kernel CVE team has assigned CVE-2022-50677 to this issue.


Affected and fixed versions
===========================

	Issue introduced in 4.19.92 with commit f9d405a4bd6090ffbf3bba5e2da6b44c0e013cb3 and fixed in 4.19.270 with commit 35ad87bfe330f7ef6a19f772223c63296d643172
	Issue introduced in 5.4.7 with commit b642ced2cad496c32ae1f62b85fc395391190820 and fixed in 5.4.229 with commit d23006f2a56e11a3103de0ca8b843bf7fd7d76fc
	Issue introduced in 5.5 with commit cbb79863fc3175ed5ac506465948b02a893a8235 and fixed in 5.10.163 with commit f29d127b372e1b7662397d92341d9f7de198ff99
	Issue introduced in 5.5 with commit cbb79863fc3175ed5ac506465948b02a893a8235 and fixed in 5.15.87 with commit bfce073089cb81482521c65061835aaa6d1a6cc0
	Issue introduced in 5.5 with commit cbb79863fc3175ed5ac506465948b02a893a8235 and fixed in 6.0.18 with commit f7fde441198a9ecb130c3ccec91ee2131d6998ee
	Issue introduced in 5.5 with commit cbb79863fc3175ed5ac506465948b02a893a8235 and fixed in 6.1.4 with commit 1fc9b20a7688000fcf4d7fbaa58e415a3cdda961
	Issue introduced in 5.5 with commit cbb79863fc3175ed5ac506465948b02a893a8235 and fixed in 6.2 with commit a92ce570c81dc0feaeb12a429b4bc65686d17967

Please see https://www.kernel.org for a full list of currently supported
kernel versions by the kernel community.

Unaffected versions might change over time as fixes are backported to
older supported kernel versions.  The official CVE entry at
	https://cve.org/CVERecord/?id=CVE-2022-50677
will be updated if fixes are backported, please check that for the most
up to date information about this issue.


Affected files
==============

The file(s) affected by this issue are:
	drivers/char/ipmi/ipmi_msghandler.c


Mitigation
==========

The Linux kernel CVE team recommends that you update to the latest
stable kernel version for this, and many other bugfixes.  Individual
changes are never tested alone, but rather are part of a larger kernel
release.  Cherry-picking individual commits is not recommended or
supported by the Linux kernel community at all.  If however, updating to
the latest release is impossible, the individual changes to resolve this
issue can be found at these commits:
	https://git.kernel.org/stable/c/35ad87bfe330f7ef6a19f772223c63296d643172
	https://git.kernel.org/stable/c/d23006f2a56e11a3103de0ca8b843bf7fd7d76fc
	https://git.kernel.org/stable/c/f29d127b372e1b7662397d92341d9f7de198ff99
	https://git.kernel.org/stable/c/bfce073089cb81482521c65061835aaa6d1a6cc0
	https://git.kernel.org/stable/c/f7fde441198a9ecb130c3ccec91ee2131d6998ee
	https://git.kernel.org/stable/c/1fc9b20a7688000fcf4d7fbaa58e415a3cdda961
	https://git.kernel.org/stable/c/a92ce570c81dc0feaeb12a429b4bc65686d17967
