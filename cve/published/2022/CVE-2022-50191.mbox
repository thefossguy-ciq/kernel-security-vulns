From bippy-1.2.0 Mon Sep 17 00:00:00 2001
From: Greg Kroah-Hartman <gregkh@kernel.org>
To: <linux-cve-announce@vger.kernel.org>
Reply-to: <cve@kernel.org>, <linux-kernel@vger.kernel.org>
Subject: CVE-2022-50191: regulator: of: Fix refcount leak bug in of_get_regulation_constraints()
Message-Id: <2025061836-CVE-2022-50191-8c6c@gregkh>
Content-Length: 3222
Lines: 60
X-Developer-Signature: v=1; a=openpgp-sha256; l=3283;
 i=gregkh@linuxfoundation.org; h=from:subject:message-id;
 bh=RmDt7GDXD+xNvJeVZqsALATXqt2AyUzbK0LpqPfPb0Y=;
 b=kA0DAAIRMUfUDdst+ykByyZiAGhSnJDI4C+OJB+kdCjDzVsX4Q9N9RFGIiSdDkGu0O8qtwUtT
 ohdBAARAgAdFiEE9LYMxb94wiFKMT3LMUfUDdst+ykFAmhSnJAACgkQMUfUDdst+yn0YgCdG0Fu
 R3dam52nB1wwlC4bkqJnFJgAoMAzqp2nDMOJFtRtLBFejotVP79P
X-Developer-Key: i=gregkh@linuxfoundation.org; a=openpgp;
 fpr=F4B60CC5BF78C2214A313DCB3147D40DDB2DFB29

Description
===========

In the Linux kernel, the following vulnerability has been resolved:

regulator: of: Fix refcount leak bug in of_get_regulation_constraints()

We should call the of_node_put() for the reference returned by
of_get_child_by_name() which has increased the refcount.

The Linux kernel CVE team has assigned CVE-2022-50191 to this issue.


Affected and fixed versions
===========================

	Issue introduced in 3.19 with commit 40e20d68bb3fb1ce2704c886d597918988d3321d and fixed in 4.14.291 with commit a23098cc32860272dc6c3200ff20c34c65b7b694
	Issue introduced in 3.19 with commit 40e20d68bb3fb1ce2704c886d597918988d3321d and fixed in 4.19.256 with commit b9ca8585c766616563cf3c062c6878f61f83cf00
	Issue introduced in 3.19 with commit 40e20d68bb3fb1ce2704c886d597918988d3321d and fixed in 5.4.211 with commit 35f9e861d9b9434903a8ede37a3561f78985826d
	Issue introduced in 3.19 with commit 40e20d68bb3fb1ce2704c886d597918988d3321d and fixed in 5.10.137 with commit 332e555dca074c4eb2084898021c3676423814c3
	Issue introduced in 3.19 with commit 40e20d68bb3fb1ce2704c886d597918988d3321d and fixed in 5.15.61 with commit c9df8ff290097aabd5c9200f7f729b0813d37b19
	Issue introduced in 3.19 with commit 40e20d68bb3fb1ce2704c886d597918988d3321d and fixed in 5.18.18 with commit 11ecb4f8735b0230d54a82c18b21ea778b695d61
	Issue introduced in 3.19 with commit 40e20d68bb3fb1ce2704c886d597918988d3321d and fixed in 5.19.2 with commit fc7b19f547bc9e622060a0a9a39da2330aa21c53
	Issue introduced in 3.19 with commit 40e20d68bb3fb1ce2704c886d597918988d3321d and fixed in 6.0 with commit 66efb665cd5ad69b27dca8571bf89fc6b9c628a4

Please see https://www.kernel.org for a full list of currently supported
kernel versions by the kernel community.

Unaffected versions might change over time as fixes are backported to
older supported kernel versions.  The official CVE entry at
	https://cve.org/CVERecord/?id=CVE-2022-50191
will be updated if fixes are backported, please check that for the most
up to date information about this issue.


Affected files
==============

The file(s) affected by this issue are:
	drivers/regulator/of_regulator.c


Mitigation
==========

The Linux kernel CVE team recommends that you update to the latest
stable kernel version for this, and many other bugfixes.  Individual
changes are never tested alone, but rather are part of a larger kernel
release.  Cherry-picking individual commits is not recommended or
supported by the Linux kernel community at all.  If however, updating to
the latest release is impossible, the individual changes to resolve this
issue can be found at these commits:
	https://git.kernel.org/stable/c/a23098cc32860272dc6c3200ff20c34c65b7b694
	https://git.kernel.org/stable/c/b9ca8585c766616563cf3c062c6878f61f83cf00
	https://git.kernel.org/stable/c/35f9e861d9b9434903a8ede37a3561f78985826d
	https://git.kernel.org/stable/c/332e555dca074c4eb2084898021c3676423814c3
	https://git.kernel.org/stable/c/c9df8ff290097aabd5c9200f7f729b0813d37b19
	https://git.kernel.org/stable/c/11ecb4f8735b0230d54a82c18b21ea778b695d61
	https://git.kernel.org/stable/c/fc7b19f547bc9e622060a0a9a39da2330aa21c53
	https://git.kernel.org/stable/c/66efb665cd5ad69b27dca8571bf89fc6b9c628a4
