From bippy-1.2.0 Mon Sep 17 00:00:00 2001
From: Greg Kroah-Hartman <gregkh@kernel.org>
To: <linux-cve-announce@vger.kernel.org>
Reply-to: <cve@kernel.org>, <linux-kernel@vger.kernel.org>
Subject: CVE-2022-50324: mtd: maps: pxa2xx-flash: fix memory leak in probe
Message-Id: <2025091553-CVE-2022-50324-e9d8@gregkh>
Content-Length: 3433
Lines: 63
X-Developer-Signature: v=1; a=openpgp-sha256; l=3497;
 i=gregkh@linuxfoundation.org; h=from:subject:message-id;
 bh=Uz71EjdJb6Xb6CcHY89ADmjN7UsHD7TDtBjszCKrzGI=;
 b=owGbwMvMwCRo6H6F97bub03G02pJDBkn1MMefuHe582/8szzJa6R+S/Pi200urFISjXB5f+Fr
 IWF7I/LOmJZGASZGGTFFFm+bOM5ur/ikKKXoe1pmDmsTCBDGLg4BWAiG6oYFpzZf+Zw5obWOd9P
 G9W//lqpfdbmXBfDXNmTh7e52Ek+ZPm2myPIwox5zvFDfwE=
X-Developer-Key: i=gregkh@linuxfoundation.org; a=openpgp;
 fpr=F4B60CC5BF78C2214A313DCB3147D40DDB2DFB29

Description
===========

In the Linux kernel, the following vulnerability has been resolved:

mtd: maps: pxa2xx-flash: fix memory leak in probe

Free 'info' upon remapping error to avoid a memory leak.

[<miquel.raynal@bootlin.com>: Reword the commit log]

The Linux kernel CVE team has assigned CVE-2022-50324 to this issue.


Affected and fixed versions
===========================

	Issue introduced in 2.6.24 with commit e644f7d6289456657996df4192de76c5d0a9f9c7 and fixed in 4.9.337 with commit cb3f35f44887a8486737fe88d58050f1df290758
	Issue introduced in 2.6.24 with commit e644f7d6289456657996df4192de76c5d0a9f9c7 and fixed in 4.14.303 with commit e2324a0912ad26a0ea5baaf81aed0ca880804158
	Issue introduced in 2.6.24 with commit e644f7d6289456657996df4192de76c5d0a9f9c7 and fixed in 4.19.270 with commit 6fa9550ef3e13d7e9b2d4db6dd57292ccd072a90
	Issue introduced in 2.6.24 with commit e644f7d6289456657996df4192de76c5d0a9f9c7 and fixed in 5.4.229 with commit cf9c4c25caad05c6b492cbba739a467511814279
	Issue introduced in 2.6.24 with commit e644f7d6289456657996df4192de76c5d0a9f9c7 and fixed in 5.10.163 with commit 1d0c2b762dad2b8dd166e17c0e90b88b86a3284f
	Issue introduced in 2.6.24 with commit e644f7d6289456657996df4192de76c5d0a9f9c7 and fixed in 5.15.86 with commit f35981083cb3fc1ba6427c1543152c5e3f59d104
	Issue introduced in 2.6.24 with commit e644f7d6289456657996df4192de76c5d0a9f9c7 and fixed in 6.0.16 with commit 932baf593eb63dff40e40d7674f076fb7932cd5b
	Issue introduced in 2.6.24 with commit e644f7d6289456657996df4192de76c5d0a9f9c7 and fixed in 6.1.2 with commit a1b061cafdbcb1ff259731f30e2bdc1de64dcaba
	Issue introduced in 2.6.24 with commit e644f7d6289456657996df4192de76c5d0a9f9c7 and fixed in 6.2 with commit 2399401feee27c639addc5b7e6ba519d3ca341bf

Please see https://www.kernel.org for a full list of currently supported
kernel versions by the kernel community.

Unaffected versions might change over time as fixes are backported to
older supported kernel versions.  The official CVE entry at
	https://cve.org/CVERecord/?id=CVE-2022-50324
will be updated if fixes are backported, please check that for the most
up to date information about this issue.


Affected files
==============

The file(s) affected by this issue are:
	drivers/mtd/maps/pxa2xx-flash.c


Mitigation
==========

The Linux kernel CVE team recommends that you update to the latest
stable kernel version for this, and many other bugfixes.  Individual
changes are never tested alone, but rather are part of a larger kernel
release.  Cherry-picking individual commits is not recommended or
supported by the Linux kernel community at all.  If however, updating to
the latest release is impossible, the individual changes to resolve this
issue can be found at these commits:
	https://git.kernel.org/stable/c/cb3f35f44887a8486737fe88d58050f1df290758
	https://git.kernel.org/stable/c/e2324a0912ad26a0ea5baaf81aed0ca880804158
	https://git.kernel.org/stable/c/6fa9550ef3e13d7e9b2d4db6dd57292ccd072a90
	https://git.kernel.org/stable/c/cf9c4c25caad05c6b492cbba739a467511814279
	https://git.kernel.org/stable/c/1d0c2b762dad2b8dd166e17c0e90b88b86a3284f
	https://git.kernel.org/stable/c/f35981083cb3fc1ba6427c1543152c5e3f59d104
	https://git.kernel.org/stable/c/932baf593eb63dff40e40d7674f076fb7932cd5b
	https://git.kernel.org/stable/c/a1b061cafdbcb1ff259731f30e2bdc1de64dcaba
	https://git.kernel.org/stable/c/2399401feee27c639addc5b7e6ba519d3ca341bf
