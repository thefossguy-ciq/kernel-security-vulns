From bippy-1.2.0 Mon Sep 17 00:00:00 2001
From: Greg Kroah-Hartman <gregkh@kernel.org>
To: <linux-cve-announce@vger.kernel.org>
Reply-to: <cve@kernel.org>, <linux-kernel@vger.kernel.org>
Subject: CVE-2022-50866: ASoC: pxa: fix null-pointer dereference in filter()
Message-Id: <2025123049-CVE-2022-50866-6082@gregkh>
Content-Length: 3418
Lines: 62
X-Developer-Signature: v=1; a=openpgp-sha256; l=3481;
 i=gregkh@linuxfoundation.org; h=from:subject:message-id;
 bh=ApKBi5gzkyLtq1srWd4EGO3AHnBGXI3uJGs+IOBmznU=;
 b=owGbwMvMwCRo6H6F97bub03G02pJDJnBh1P3pJXyyy87LnRJ5p6YtayHVKbCxKPmszUcIietm
 Lf4e8+XjlgWBkEmBlkxRZYv23iO7q84pOhlaHsaZg4rE8gQBi5OAZiIWizDgpnp/F3He0/vnOj+
 IuOohf5CvSsMmgzzS/8muFtKKj59K82e2pjvwf7T+GwQAA==
X-Developer-Key: i=gregkh@linuxfoundation.org; a=openpgp;
 fpr=F4B60CC5BF78C2214A313DCB3147D40DDB2DFB29

Description
===========

In the Linux kernel, the following vulnerability has been resolved:

ASoC: pxa: fix null-pointer dereference in filter()

kasprintf() would return NULL pointer when kmalloc() fail to allocate.
Need to check the return pointer before calling strcmp().

The Linux kernel CVE team has assigned CVE-2022-50866 to this issue.


Affected and fixed versions
===========================

	Issue introduced in 3.6 with commit 7a824e214e25a49442fe868dac0af8a904b24f58 and fixed in 4.9.337 with commit 3ec75e0ea9550b8f2e531172f2e67ba9d5227ec3
	Issue introduced in 3.6 with commit 7a824e214e25a49442fe868dac0af8a904b24f58 and fixed in 4.14.303 with commit 5b510a82740d2a42a75b5661b402bcaf8ae22cd5
	Issue introduced in 3.6 with commit 7a824e214e25a49442fe868dac0af8a904b24f58 and fixed in 4.19.270 with commit 0abd1d78317a3a2dfe00b203fbf14ee7df537e0a
	Issue introduced in 3.6 with commit 7a824e214e25a49442fe868dac0af8a904b24f58 and fixed in 5.4.229 with commit a8baccb79de2f48a2083d51febf627eb50ce1898
	Issue introduced in 3.6 with commit 7a824e214e25a49442fe868dac0af8a904b24f58 and fixed in 5.10.163 with commit 21a1409e8cf73053b54f7860548e3043dfa351a9
	Issue introduced in 3.6 with commit 7a824e214e25a49442fe868dac0af8a904b24f58 and fixed in 5.15.86 with commit 83baa509396a742e0ce145b09fde1ce0a948f49a
	Issue introduced in 3.6 with commit 7a824e214e25a49442fe868dac0af8a904b24f58 and fixed in 6.0.16 with commit 9fb9b3b67a5b8669296d6372cd901ef86557e6f6
	Issue introduced in 3.6 with commit 7a824e214e25a49442fe868dac0af8a904b24f58 and fixed in 6.1.2 with commit 21b92cf41952577a95bfa430e39478cbd66e42a7
	Issue introduced in 3.6 with commit 7a824e214e25a49442fe868dac0af8a904b24f58 and fixed in 6.2 with commit ec7bf231aaa1bdbcb69d23bc50c753c80fb22429

Please see https://www.kernel.org for a full list of currently supported
kernel versions by the kernel community.

Unaffected versions might change over time as fixes are backported to
older supported kernel versions.  The official CVE entry at
	https://cve.org/CVERecord/?id=CVE-2022-50866
will be updated if fixes are backported, please check that for the most
up to date information about this issue.


Affected files
==============

The file(s) affected by this issue are:
	sound/soc/pxa/mmp-pcm.c


Mitigation
==========

The Linux kernel CVE team recommends that you update to the latest
stable kernel version for this, and many other bugfixes.  Individual
changes are never tested alone, but rather are part of a larger kernel
release.  Cherry-picking individual commits is not recommended or
supported by the Linux kernel community at all.  If however, updating to
the latest release is impossible, the individual changes to resolve this
issue can be found at these commits:
	https://git.kernel.org/stable/c/3ec75e0ea9550b8f2e531172f2e67ba9d5227ec3
	https://git.kernel.org/stable/c/5b510a82740d2a42a75b5661b402bcaf8ae22cd5
	https://git.kernel.org/stable/c/0abd1d78317a3a2dfe00b203fbf14ee7df537e0a
	https://git.kernel.org/stable/c/a8baccb79de2f48a2083d51febf627eb50ce1898
	https://git.kernel.org/stable/c/21a1409e8cf73053b54f7860548e3043dfa351a9
	https://git.kernel.org/stable/c/83baa509396a742e0ce145b09fde1ce0a948f49a
	https://git.kernel.org/stable/c/9fb9b3b67a5b8669296d6372cd901ef86557e6f6
	https://git.kernel.org/stable/c/21b92cf41952577a95bfa430e39478cbd66e42a7
	https://git.kernel.org/stable/c/ec7bf231aaa1bdbcb69d23bc50c753c80fb22429
