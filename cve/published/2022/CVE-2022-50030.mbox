From bippy-1.2.0 Mon Sep 17 00:00:00 2001
From: Greg Kroah-Hartman <gregkh@kernel.org>
To: <linux-cve-announce@vger.kernel.org>
Reply-to: <cve@kernel.org>, <linux-kernel@vger.kernel.org>
Subject: CVE-2022-50030: scsi: lpfc: Prevent buffer overflow crashes in debugfs with malformed user input

Description
===========

In the Linux kernel, the following vulnerability has been resolved:

scsi: lpfc: Prevent buffer overflow crashes in debugfs with malformed user input

Malformed user input to debugfs results in buffer overflow crashes.  Adapt
input string lengths to fit within internal buffers, leaving space for NULL
terminators.

The Linux kernel CVE team has assigned CVE-2022-50030 to this issue.


Affected and fixed versions
===========================

	Issue introduced in 4.11 with commit bd2cdd5e400f5914bc30d5cfb0a0185cf51e4424 and fixed in 5.4.211 with commit 927907f1cbb3408cadde637fccfc17bb6b10a87d
	Issue introduced in 4.11 with commit bd2cdd5e400f5914bc30d5cfb0a0185cf51e4424 and fixed in 5.10.138 with commit c29a4baaad38a332c0ae480cf6d6c5bf75ac1828
	Issue introduced in 4.11 with commit bd2cdd5e400f5914bc30d5cfb0a0185cf51e4424 and fixed in 5.15.63 with commit b92506dc51f81741eb26609175ac206c20f06e0a
	Issue introduced in 4.11 with commit bd2cdd5e400f5914bc30d5cfb0a0185cf51e4424 and fixed in 5.19.4 with commit 2d544e9d19c109dfe34b3dc1253a8b2971abe060
	Issue introduced in 4.11 with commit bd2cdd5e400f5914bc30d5cfb0a0185cf51e4424 and fixed in 6.0 with commit f8191d40aa612981ce897e66cda6a88db8df17bb

Please see https://www.kernel.org for a full list of currently supported
kernel versions by the kernel community.

Unaffected versions might change over time as fixes are backported to
older supported kernel versions.  The official CVE entry at
	https://cve.org/CVERecord/?id=CVE-2022-50030
will be updated if fixes are backported, please check that for the most
up to date information about this issue.


Affected files
==============

The file(s) affected by this issue are:
	drivers/scsi/lpfc/lpfc_debugfs.c


Mitigation
==========

The Linux kernel CVE team recommends that you update to the latest
stable kernel version for this, and many other bugfixes.  Individual
changes are never tested alone, but rather are part of a larger kernel
release.  Cherry-picking individual commits is not recommended or
supported by the Linux kernel community at all.  If however, updating to
the latest release is impossible, the individual changes to resolve this
issue can be found at these commits:
	https://git.kernel.org/stable/c/927907f1cbb3408cadde637fccfc17bb6b10a87d
	https://git.kernel.org/stable/c/c29a4baaad38a332c0ae480cf6d6c5bf75ac1828
	https://git.kernel.org/stable/c/b92506dc51f81741eb26609175ac206c20f06e0a
	https://git.kernel.org/stable/c/2d544e9d19c109dfe34b3dc1253a8b2971abe060
	https://git.kernel.org/stable/c/f8191d40aa612981ce897e66cda6a88db8df17bb
