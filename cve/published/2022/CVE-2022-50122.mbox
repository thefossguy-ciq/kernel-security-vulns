From bippy-1.2.0 Mon Sep 17 00:00:00 2001
From: Greg Kroah-Hartman <gregkh@kernel.org>
To: <linux-cve-announce@vger.kernel.org>
Reply-to: <cve@kernel.org>, <linux-kernel@vger.kernel.org>
Subject: CVE-2022-50122: ASoC: mediatek: mt8173-rt5650: Fix refcount leak in mt8173_rt5650_dev_probe

Description
===========

In the Linux kernel, the following vulnerability has been resolved:

ASoC: mediatek: mt8173-rt5650: Fix refcount leak in mt8173_rt5650_dev_probe

of_parse_phandle() returns a node pointer with refcount
incremented, we should use of_node_put() on it when not need anymore.
Fix refcount leak in some error paths.

The Linux kernel CVE team has assigned CVE-2022-50122 to this issue.


Affected and fixed versions
===========================

	Issue introduced in 4.6 with commit 0f83f9296d5c91d08cf46cf1ba8a17fb870dedf0 and fixed in 4.14.291 with commit 06ace427953f5036b64aed658f0055f65d76fd27
	Issue introduced in 4.6 with commit 0f83f9296d5c91d08cf46cf1ba8a17fb870dedf0 and fixed in 4.19.256 with commit e024a24fb264523149658c10c76bb363b3d0004d
	Issue introduced in 4.6 with commit 0f83f9296d5c91d08cf46cf1ba8a17fb870dedf0 and fixed in 5.4.211 with commit 79f566907d27abbd7600cebe51def5081d5796b5
	Issue introduced in 4.6 with commit 0f83f9296d5c91d08cf46cf1ba8a17fb870dedf0 and fixed in 5.10.137 with commit 403d46971936f9f704b91cecffe66e44aa39e915
	Issue introduced in 4.6 with commit 0f83f9296d5c91d08cf46cf1ba8a17fb870dedf0 and fixed in 5.15.61 with commit 994f2edeeb2114bb22b62741cb8fb030fc7e5441
	Issue introduced in 4.6 with commit 0f83f9296d5c91d08cf46cf1ba8a17fb870dedf0 and fixed in 5.18.18 with commit e38e4952ac7a316c9002af30980d6aa850214474
	Issue introduced in 4.6 with commit 0f83f9296d5c91d08cf46cf1ba8a17fb870dedf0 and fixed in 5.19.2 with commit 5ec83aa7a9e5bcca80ccd49978916feb4e0ffc07
	Issue introduced in 4.6 with commit 0f83f9296d5c91d08cf46cf1ba8a17fb870dedf0 and fixed in 6.0 with commit efe2178d1a32492f99e7f1f2568eea5c88a85729

Please see https://www.kernel.org for a full list of currently supported
kernel versions by the kernel community.

Unaffected versions might change over time as fixes are backported to
older supported kernel versions.  The official CVE entry at
	https://cve.org/CVERecord/?id=CVE-2022-50122
will be updated if fixes are backported, please check that for the most
up to date information about this issue.


Affected files
==============

The file(s) affected by this issue are:
	sound/soc/mediatek/mt8173/mt8173-rt5650.c


Mitigation
==========

The Linux kernel CVE team recommends that you update to the latest
stable kernel version for this, and many other bugfixes.  Individual
changes are never tested alone, but rather are part of a larger kernel
release.  Cherry-picking individual commits is not recommended or
supported by the Linux kernel community at all.  If however, updating to
the latest release is impossible, the individual changes to resolve this
issue can be found at these commits:
	https://git.kernel.org/stable/c/06ace427953f5036b64aed658f0055f65d76fd27
	https://git.kernel.org/stable/c/e024a24fb264523149658c10c76bb363b3d0004d
	https://git.kernel.org/stable/c/79f566907d27abbd7600cebe51def5081d5796b5
	https://git.kernel.org/stable/c/403d46971936f9f704b91cecffe66e44aa39e915
	https://git.kernel.org/stable/c/994f2edeeb2114bb22b62741cb8fb030fc7e5441
	https://git.kernel.org/stable/c/e38e4952ac7a316c9002af30980d6aa850214474
	https://git.kernel.org/stable/c/5ec83aa7a9e5bcca80ccd49978916feb4e0ffc07
	https://git.kernel.org/stable/c/efe2178d1a32492f99e7f1f2568eea5c88a85729
