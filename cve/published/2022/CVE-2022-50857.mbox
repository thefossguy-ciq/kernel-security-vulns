From bippy-1.2.0 Mon Sep 17 00:00:00 2001
From: Greg Kroah-Hartman <gregkh@kernel.org>
To: <linux-cve-announce@vger.kernel.org>
Reply-to: <cve@kernel.org>, <linux-kernel@vger.kernel.org>
Subject: CVE-2022-50857: rapidio: rio: fix possible name leak in rio_register_mport()
Message-Id: <2025123046-CVE-2022-50857-6a86@gregkh>
Content-Length: 3578
Lines: 64
X-Developer-Signature: v=1; a=openpgp-sha256; l=3643;
 i=gregkh@linuxfoundation.org; h=from:subject:message-id;
 bh=XV7j9pqO461VSERq8PbQQqhNpfQcwSejqHrADIIoxB4=;
 b=owGbwMvMwCRo6H6F97bub03G02pJDJnBh5Pykp+VXvu4OyN8yqpV+V/jT8+KUfpY0GEcw9Oy9
 bV5XZd5RywLgyATg6yYIsuXbTxH91ccUvQytD0NM4eVCWQIAxenAExk4V+GBWeM3+6KEuLhqb9t
 smT+ndDQ5eLiXxjmirZ7BNyXq1tYwc+m461hnb+so7IdAA==
X-Developer-Key: i=gregkh@linuxfoundation.org; a=openpgp;
 fpr=F4B60CC5BF78C2214A313DCB3147D40DDB2DFB29

Description
===========

In the Linux kernel, the following vulnerability has been resolved:

rapidio: rio: fix possible name leak in rio_register_mport()

If device_register() returns error, the name allocated by dev_set_name()
need be freed.  It should use put_device() to give up the reference in the
error path, so that the name can be freed in kobject_cleanup(), and
list_del() is called to delete the port from rio_mports.

The Linux kernel CVE team has assigned CVE-2022-50857 to this issue.


Affected and fixed versions
===========================

	Issue introduced in 3.15 with commit 2aaf308b95b24649a6dcfed89cd956e972089b2a and fixed in 4.9.337 with commit 0a71344f99289250e4d5b8adbac76f444485c840
	Issue introduced in 3.15 with commit 2aaf308b95b24649a6dcfed89cd956e972089b2a and fixed in 4.14.303 with commit 117fede82e9d6ea3de30746d500eb5edc2eb8310
	Issue introduced in 3.15 with commit 2aaf308b95b24649a6dcfed89cd956e972089b2a and fixed in 4.19.270 with commit a73a626c0510d203e369aeb26c4d6ec9c75af027
	Issue introduced in 3.15 with commit 2aaf308b95b24649a6dcfed89cd956e972089b2a and fixed in 5.4.229 with commit 1bbad5793f404cf218757e3beb600eca6080330f
	Issue introduced in 3.15 with commit 2aaf308b95b24649a6dcfed89cd956e972089b2a and fixed in 5.10.163 with commit 97d9eb45ffa67ffa112a6659953321b8f7db0065
	Issue introduced in 3.15 with commit 2aaf308b95b24649a6dcfed89cd956e972089b2a and fixed in 5.15.86 with commit a47de2fd3f88a7788be19f94ade72c2244a98045
	Issue introduced in 3.15 with commit 2aaf308b95b24649a6dcfed89cd956e972089b2a and fixed in 6.0.16 with commit 4ddbeae5f224d924cf0b12460dda88c7480aa452
	Issue introduced in 3.15 with commit 2aaf308b95b24649a6dcfed89cd956e972089b2a and fixed in 6.1.2 with commit 9abba4aa60874c5216fc8de7dededadc791de696
	Issue introduced in 3.15 with commit 2aaf308b95b24649a6dcfed89cd956e972089b2a and fixed in 6.2 with commit e92a216d16bde65d21a3227e0fb2aa0794576525

Please see https://www.kernel.org for a full list of currently supported
kernel versions by the kernel community.

Unaffected versions might change over time as fixes are backported to
older supported kernel versions.  The official CVE entry at
	https://cve.org/CVERecord/?id=CVE-2022-50857
will be updated if fixes are backported, please check that for the most
up to date information about this issue.


Affected files
==============

The file(s) affected by this issue are:
	drivers/rapidio/rio.c


Mitigation
==========

The Linux kernel CVE team recommends that you update to the latest
stable kernel version for this, and many other bugfixes.  Individual
changes are never tested alone, but rather are part of a larger kernel
release.  Cherry-picking individual commits is not recommended or
supported by the Linux kernel community at all.  If however, updating to
the latest release is impossible, the individual changes to resolve this
issue can be found at these commits:
	https://git.kernel.org/stable/c/0a71344f99289250e4d5b8adbac76f444485c840
	https://git.kernel.org/stable/c/117fede82e9d6ea3de30746d500eb5edc2eb8310
	https://git.kernel.org/stable/c/a73a626c0510d203e369aeb26c4d6ec9c75af027
	https://git.kernel.org/stable/c/1bbad5793f404cf218757e3beb600eca6080330f
	https://git.kernel.org/stable/c/97d9eb45ffa67ffa112a6659953321b8f7db0065
	https://git.kernel.org/stable/c/a47de2fd3f88a7788be19f94ade72c2244a98045
	https://git.kernel.org/stable/c/4ddbeae5f224d924cf0b12460dda88c7480aa452
	https://git.kernel.org/stable/c/9abba4aa60874c5216fc8de7dededadc791de696
	https://git.kernel.org/stable/c/e92a216d16bde65d21a3227e0fb2aa0794576525
