From bippy-1.2.0 Mon Sep 17 00:00:00 2001
From: Greg Kroah-Hartman <gregkh@kernel.org>
To: <linux-cve-announce@vger.kernel.org>
Reply-to: <cve@kernel.org>, <linux-kernel@vger.kernel.org>
Subject: CVE-2022-50025: cxl: Fix a memory leak in an error handling path

Description
===========

In the Linux kernel, the following vulnerability has been resolved:

cxl: Fix a memory leak in an error handling path

A bitmap_zalloc() must be balanced by a corresponding bitmap_free() in the
error handling path of afu_allocate_irqs().

The Linux kernel CVE team has assigned CVE-2022-50025 to this issue.


Affected and fixed versions
===========================

	Fixed in 4.9.326 with commit c2c7a29f99788e9e5dfe41d16868ea33da7cc235
	Fixed in 4.14.291 with commit 6544ff559315498ad6c0a311359ca44987f9ca07
	Fixed in 4.19.256 with commit 89d51dc6878c47b6400922fac21b6a33f9d1a588
	Fixed in 5.4.211 with commit 695af60af755873399ce01cb97176768828bc1fd
	Fixed in 5.10.138 with commit 4be138bcd6d68cec0ce47051b117541061f5141a
	Fixed in 5.15.63 with commit addff638c41753639368c252d0c5ba0d8fe9ed97
	Fixed in 5.19.4 with commit c2557780ee7818b701681c226fa4cb7c0b171665
	Fixed in 6.0 with commit 3a15b45b5454da862376b5d69a4967f5c6fa1368

Please see https://www.kernel.org for a full list of currently supported
kernel versions by the kernel community.

Unaffected versions might change over time as fixes are backported to
older supported kernel versions.  The official CVE entry at
	https://cve.org/CVERecord/?id=CVE-2022-50025
will be updated if fixes are backported, please check that for the most
up to date information about this issue.


Affected files
==============

The file(s) affected by this issue are:
	drivers/misc/cxl/irq.c


Mitigation
==========

The Linux kernel CVE team recommends that you update to the latest
stable kernel version for this, and many other bugfixes.  Individual
changes are never tested alone, but rather are part of a larger kernel
release.  Cherry-picking individual commits is not recommended or
supported by the Linux kernel community at all.  If however, updating to
the latest release is impossible, the individual changes to resolve this
issue can be found at these commits:
	https://git.kernel.org/stable/c/c2c7a29f99788e9e5dfe41d16868ea33da7cc235
	https://git.kernel.org/stable/c/6544ff559315498ad6c0a311359ca44987f9ca07
	https://git.kernel.org/stable/c/89d51dc6878c47b6400922fac21b6a33f9d1a588
	https://git.kernel.org/stable/c/695af60af755873399ce01cb97176768828bc1fd
	https://git.kernel.org/stable/c/4be138bcd6d68cec0ce47051b117541061f5141a
	https://git.kernel.org/stable/c/addff638c41753639368c252d0c5ba0d8fe9ed97
	https://git.kernel.org/stable/c/c2557780ee7818b701681c226fa4cb7c0b171665
	https://git.kernel.org/stable/c/3a15b45b5454da862376b5d69a4967f5c6fa1368
