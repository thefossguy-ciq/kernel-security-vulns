From bippy-1.2.0 Mon Sep 17 00:00:00 2001
From: Greg Kroah-Hartman <gregkh@kernel.org>
To: <linux-cve-announce@vger.kernel.org>
Reply-to: <cve@kernel.org>, <linux-kernel@vger.kernel.org>
Subject: CVE-2022-50427: ALSA: ac97: fix possible memory leak in snd_ac97_dev_register()

Description
===========

In the Linux kernel, the following vulnerability has been resolved:

ALSA: ac97: fix possible memory leak in snd_ac97_dev_register()

If device_register() fails in snd_ac97_dev_register(), it should
call put_device() to give up reference, or the name allocated in
dev_set_name() is leaked.

The Linux kernel CVE team has assigned CVE-2022-50427 to this issue.


Affected and fixed versions
===========================

	Issue introduced in 2.6.14 with commit 0ca06a00e206b963587ac471e6d1c52bf33b9a18 and fixed in 4.9.332 with commit a602ec9d88f177dba78bc97fb1adecc7a71ff279
	Issue introduced in 2.6.14 with commit 0ca06a00e206b963587ac471e6d1c52bf33b9a18 and fixed in 4.14.298 with commit 0f8e9a15c8ecf95057061d370a2dddaf1cee4aeb
	Issue introduced in 2.6.14 with commit 0ca06a00e206b963587ac471e6d1c52bf33b9a18 and fixed in 4.19.264 with commit ee8bf0946f62ef00e5db4b613a9f664ac567259a
	Issue introduced in 2.6.14 with commit 0ca06a00e206b963587ac471e6d1c52bf33b9a18 and fixed in 5.4.223 with commit 758dbcc6fbf2286eff02743b093c70a18a407d66
	Issue introduced in 2.6.14 with commit 0ca06a00e206b963587ac471e6d1c52bf33b9a18 and fixed in 5.10.153 with commit bfce73088682ef0770da951f51156c36a89be490
	Issue introduced in 2.6.14 with commit 0ca06a00e206b963587ac471e6d1c52bf33b9a18 and fixed in 5.15.77 with commit 4fdf6f978c6b605ca0d67bf0e982b7a8fc0f4aab
	Issue introduced in 2.6.14 with commit 0ca06a00e206b963587ac471e6d1c52bf33b9a18 and fixed in 6.0.7 with commit c68b2e9ef246117f696e360bbdd2f5736b3a7127
	Issue introduced in 2.6.14 with commit 0ca06a00e206b963587ac471e6d1c52bf33b9a18 and fixed in 6.1 with commit 4881bda5ea05c8c240fc8afeaa928e2bc43f61fa

Please see https://www.kernel.org for a full list of currently supported
kernel versions by the kernel community.

Unaffected versions might change over time as fixes are backported to
older supported kernel versions.  The official CVE entry at
	https://cve.org/CVERecord/?id=CVE-2022-50427
will be updated if fixes are backported, please check that for the most
up to date information about this issue.


Affected files
==============

The file(s) affected by this issue are:
	sound/pci/ac97/ac97_codec.c


Mitigation
==========

The Linux kernel CVE team recommends that you update to the latest
stable kernel version for this, and many other bugfixes.  Individual
changes are never tested alone, but rather are part of a larger kernel
release.  Cherry-picking individual commits is not recommended or
supported by the Linux kernel community at all.  If however, updating to
the latest release is impossible, the individual changes to resolve this
issue can be found at these commits:
	https://git.kernel.org/stable/c/a602ec9d88f177dba78bc97fb1adecc7a71ff279
	https://git.kernel.org/stable/c/0f8e9a15c8ecf95057061d370a2dddaf1cee4aeb
	https://git.kernel.org/stable/c/ee8bf0946f62ef00e5db4b613a9f664ac567259a
	https://git.kernel.org/stable/c/758dbcc6fbf2286eff02743b093c70a18a407d66
	https://git.kernel.org/stable/c/bfce73088682ef0770da951f51156c36a89be490
	https://git.kernel.org/stable/c/4fdf6f978c6b605ca0d67bf0e982b7a8fc0f4aab
	https://git.kernel.org/stable/c/c68b2e9ef246117f696e360bbdd2f5736b3a7127
	https://git.kernel.org/stable/c/4881bda5ea05c8c240fc8afeaa928e2bc43f61fa
