From bippy-1.1.0 Mon Sep 17 00:00:00 2001
From: Greg Kroah-Hartman <gregkh@kernel.org>
To: <linux-cve-announce@vger.kernel.org>
Reply-to: <cve@kernel.org>, <linux-kernel@vger.kernel.org>
Subject: CVE-2022-49777: Input: i8042 - fix leaking of platform device on module removal

Description
===========

In the Linux kernel, the following vulnerability has been resolved:

Input: i8042 - fix leaking of platform device on module removal

Avoid resetting the module-wide i8042_platform_device pointer in
i8042_probe() or i8042_remove(), so that the device can be properly
destroyed by i8042_exit() on module unload.

The Linux kernel CVE team has assigned CVE-2022-49777 to this issue.


Affected and fixed versions
===========================

	Issue introduced in 4.19.224 with commit 68fdb0499653a2519691e645fcb72944f6e1e220 and fixed in 4.19.267 with commit 81df118e79b2136b5c016394f67a051dc508b7b6
	Issue introduced in 5.4.170 with commit f93d5dca7d84a4c725acf87db74b12c5686bd83e and fixed in 5.4.225 with commit 4f348b60c79671eee33c1389efe89109c93047da
	Issue introduced in 5.10.90 with commit bb672eff7447f8a26c8a66ddee613afd279bd760 and fixed in 5.10.156 with commit 3f25add5ecf88de0f8ff2b27b6c0731a1f1b38ed
	Issue introduced in 5.15.13 with commit dd33054e4c18a54645072c7a62d46cdf6d05dace and fixed in 5.15.80 with commit d5f7f6e63fed9c2ed09725d90059a28907e197e3
	Issue introduced in 5.16 with commit 9222ba68c3f4065f6364b99cc641b6b019ef2d42 and fixed in 6.0.10 with commit a32cd7feb0127bf629a82686b6e2c128139a86e5
	Issue introduced in 5.16 with commit 9222ba68c3f4065f6364b99cc641b6b019ef2d42 and fixed in 6.1 with commit 81cd7e8489278d28794e7b272950c3e00c344e44

Please see https://www.kernel.org for a full list of currently supported
kernel versions by the kernel community.

Unaffected versions might change over time as fixes are backported to
older supported kernel versions.  The official CVE entry at
	https://cve.org/CVERecord/?id=CVE-2022-49777
will be updated if fixes are backported, please check that for the most
up to date information about this issue.


Affected files
==============

The file(s) affected by this issue are:
	drivers/input/serio/i8042.c


Mitigation
==========

The Linux kernel CVE team recommends that you update to the latest
stable kernel version for this, and many other bugfixes.  Individual
changes are never tested alone, but rather are part of a larger kernel
release.  Cherry-picking individual commits is not recommended or
supported by the Linux kernel community at all.  If however, updating to
the latest release is impossible, the individual changes to resolve this
issue can be found at these commits:
	https://git.kernel.org/stable/c/81df118e79b2136b5c016394f67a051dc508b7b6
	https://git.kernel.org/stable/c/4f348b60c79671eee33c1389efe89109c93047da
	https://git.kernel.org/stable/c/3f25add5ecf88de0f8ff2b27b6c0731a1f1b38ed
	https://git.kernel.org/stable/c/d5f7f6e63fed9c2ed09725d90059a28907e197e3
	https://git.kernel.org/stable/c/a32cd7feb0127bf629a82686b6e2c128139a86e5
	https://git.kernel.org/stable/c/81cd7e8489278d28794e7b272950c3e00c344e44
