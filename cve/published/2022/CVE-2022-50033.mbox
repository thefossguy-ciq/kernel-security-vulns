From bippy-1.2.0 Mon Sep 17 00:00:00 2001
From: Greg Kroah-Hartman <gregkh@kernel.org>
To: <linux-cve-announce@vger.kernel.org>
Reply-to: <cve@kernel.org>, <linux-kernel@vger.kernel.org>
Subject: CVE-2022-50033: usb: host: ohci-ppc-of: Fix refcount leak bug

Description
===========

In the Linux kernel, the following vulnerability has been resolved:

usb: host: ohci-ppc-of: Fix refcount leak bug

In ohci_hcd_ppc_of_probe(), of_find_compatible_node() will return
a node pointer with refcount incremented. We should use of_node_put()
when it is not used anymore.

The Linux kernel CVE team has assigned CVE-2022-50033 to this issue.


Affected and fixed versions
===========================

	Fixed in 4.9.326 with commit fe6fe64403710287f0ae61a516954d8a4f7c9e3f
	Fixed in 4.14.291 with commit c5c5bd5cdcc6dc9f75f53d1c89af463d39a2bb96
	Fixed in 4.19.256 with commit ec583e300aee9f152a64911445092d18e1c36729
	Fixed in 5.4.211 with commit 0334d23c56ecf1ee1563bb83e29cc5a51ed7fb4e
	Fixed in 5.10.138 with commit cb5dd65e889163e723df1c2f02288cc527a57785
	Fixed in 5.15.63 with commit 0fc62bbc95319bbd330e3645afc7c286acec9ef8
	Fixed in 5.19.4 with commit 403132881e66db7aa98b55c6655daedd80d407fd
	Fixed in 6.0 with commit 40a959d7042bb7711e404ad2318b30e9f92c6b9b

Please see https://www.kernel.org for a full list of currently supported
kernel versions by the kernel community.

Unaffected versions might change over time as fixes are backported to
older supported kernel versions.  The official CVE entry at
	https://cve.org/CVERecord/?id=CVE-2022-50033
will be updated if fixes are backported, please check that for the most
up to date information about this issue.


Affected files
==============

The file(s) affected by this issue are:
	drivers/usb/host/ohci-ppc-of.c


Mitigation
==========

The Linux kernel CVE team recommends that you update to the latest
stable kernel version for this, and many other bugfixes.  Individual
changes are never tested alone, but rather are part of a larger kernel
release.  Cherry-picking individual commits is not recommended or
supported by the Linux kernel community at all.  If however, updating to
the latest release is impossible, the individual changes to resolve this
issue can be found at these commits:
	https://git.kernel.org/stable/c/fe6fe64403710287f0ae61a516954d8a4f7c9e3f
	https://git.kernel.org/stable/c/c5c5bd5cdcc6dc9f75f53d1c89af463d39a2bb96
	https://git.kernel.org/stable/c/ec583e300aee9f152a64911445092d18e1c36729
	https://git.kernel.org/stable/c/0334d23c56ecf1ee1563bb83e29cc5a51ed7fb4e
	https://git.kernel.org/stable/c/cb5dd65e889163e723df1c2f02288cc527a57785
	https://git.kernel.org/stable/c/0fc62bbc95319bbd330e3645afc7c286acec9ef8
	https://git.kernel.org/stable/c/403132881e66db7aa98b55c6655daedd80d407fd
	https://git.kernel.org/stable/c/40a959d7042bb7711e404ad2318b30e9f92c6b9b
